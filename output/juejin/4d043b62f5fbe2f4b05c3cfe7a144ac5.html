<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><meta name="google-site-verification" content="cCHsgG9ktuCTgWgYfqCJql8AeR4gAne4DTZqztPoirE"><meta name="apple-itunes-app" content="app-id=987739104"><meta name="baidu-site-verification" content="qiK2a1kcFc"><meta name="360-site-verification" content="4c3c7d57d59f0e1a308462fbc7fd7e51"><meta name="sogou_site_verification" content="c49WUDZczQ"><meta data-vue-meta="true" data-vmid="keywords" name="keywords" content="Java"><meta data-vue-meta="true" data-vmid="description" name="description" content="è‡ªæˆ‘è¡¨æ‰¬ï¼šã€ŠDubbo å®ç°åŸç†ä¸æºç è§£æ â€”â€” ç²¾å“åˆé›†ã€‹ è¡¨æ‰¬è‡ªå·±ï¼šã€ŠDæ•°æ®åº“å®ä½“è®¾è®¡åˆé›†ã€‹ æ‘˜è¦: åŸåˆ›å‡ºå¤„ http://www.iocoder.cn/RocketMQ/high-availability/ ã€ŒèŠ‹é“æºç ã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢"><title data-vue-meta="true">åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ— RocketMQ æºç åˆ†æ â€”â€” é«˜å¯ç”¨ - åç«¯ - æ˜é‡‘</title><link rel="preload" href="https://b-gold-cdn.xitu.io/v3/static/js/manifest.060adf3290877312ec3f.js" as="script"><link rel="preload" href="https://b-gold-cdn.xitu.io/v3/static/js/vendor.e6fd81aa1499049a5bee.js" as="script"><link rel="preload" href="https://b-gold-cdn.xitu.io/v3/static/js/app.a99a1e8180beec940a3f.js" as="script"><link rel="preload" href="https://b-gold-cdn.xitu.io/v3/static/css/app.2fc0167e71ee3966ab7d22d43915528f.css" as="style"><link rel="preload" href="https://b-gold-cdn.xitu.io/v3/static/js/3.f84ea6333e04793cc1e2.js" as="script"><link rel="apple-touch-icon" sizes="180x180" href="https://b-gold-cdn.xitu.io/favicons/v2/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-16x16.png"><link rel="manifest" href="https://b-gold-cdn.xitu.io/favicons/v2/manifest.json"><link rel="mask-icon" href="https://b-gold-cdn.xitu.io/favicons/v2/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon.ico"><meta name="msapplication-config" content="https://b-gold-cdn.xitu.io/favicons/v2/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="search" title="æ˜é‡‘" href="https://b-gold-cdn.xitu.io/conf/search.xml" type="application/opensearchdescription+xml"><link rel="stylesheet" href="https://b-gold-cdn.xitu.io/ionicons/2.0.1/css/ionicons.min.css"><link rel="stylesheet" href="https://b-gold-cdn.xitu.io/asset/fw-icon/1.0.9/iconfont.css"><link href="https://b-gold-cdn.xitu.io/v3/static/css/app.2fc0167e71ee3966ab7d22d43915528f.css" rel="stylesheet"><script async="" src="https://hm.baidu.com/hm.js?93bbd335a208870aa1f296bcd6842e5e"></script><script async="" src="//www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://assets.growingio.com/vds.js"></script><script type="text/javascript" charset="utf-8" async="" src="https://b-gold-cdn.xitu.io/v3/static/js/3.f84ea6333e04793cc1e2.js"></script></head><body><div id="juejin" data-v-6ede48a3=""><div class="global-component-box" data-v-6ede48a3=""><!----><div data-v-2840e9c3="" data-v-6ede48a3="" class="alert-list alert-list"></div><div data-v-6ddb54c6="" data-v-6ede48a3="" class="suspension-panel suspension-panel"><button data-v-6ddb54c6="" title="å›åˆ°é¡¶éƒ¨" class="btn to-top-btn" style="display: none;"><i data-v-6ddb54c6="" class="ion-android-arrow-dropup"></i></button><button data-v-6ddb54c6="" title="å»ºè®®åé¦ˆ" class="btn meiqia-btn" style=""><i data-v-6ddb54c6="" class="ion-chatbubble-working"></i></button></div><!----><!----><div class="emoji-barrage" data-v-475389e2="" data-v-6ede48a3=""><!----></div><div class="book-new-user-award-popup" style="display: none;" data-v-7c95f01f="" data-v-6ede48a3=""><div class="content-box" style="display:;" data-v-7c95f01f=""><div class="close ion-close-round" data-v-7c95f01f=""></div><div class="header" data-v-7c95f01f=""><div class="icon" data-v-7c95f01f=""><img src="https://b-gold-cdn.xitu.io/v3/static/img/icon.a87e5ae.svg" data-v-7c95f01f=""></div><div class="txt" data-v-7c95f01f="">æ–°äººä¸“äº«å¥½ç¤¼</div></div><div class="desc" data-v-7c95f01f="">å‡¡æœªè´­ä¹°è¿‡å°å†Œçš„ç”¨æˆ·ï¼Œå‡å¯é¢†å–ä¸‰å¼  5 æŠ˜æ–°äººä¸“äº«åˆ¸ï¼Œè´­ä¹°å°å†Œæ—¶è‡ªåŠ¨ä½¿ç”¨ä¸“äº«åˆ¸ï¼Œæœ€é«˜å¯èŠ‚çœ 45 å…ƒã€‚</div><div class="tickets" data-v-7c95f01f=""><div class="ticket" data-v-7c95f01f=""><div class="ticket__inner" data-v-7c95f01f=""><div class="enjoy" data-v-7c95f01f=""><span class="new-title" data-v-7c95f01f="">å°å†Œæ–°äºº 5 æŠ˜åˆ¸</span></div><div class="sale" data-v-7c95f01f="">æœ€é«˜å¯çœ 15 å…ƒ</div></div></div><div class="ticket" data-v-7c95f01f=""><div class="ticket__inner" data-v-7c95f01f=""><div class="enjoy" data-v-7c95f01f=""><span class="new-title" data-v-7c95f01f="">å°å†Œæ–°äºº 5 æŠ˜åˆ¸</span></div><div class="sale" data-v-7c95f01f="">æœ€é«˜å¯çœ 15 å…ƒ</div></div></div><div class="ticket" data-v-7c95f01f=""><div class="ticket__inner" data-v-7c95f01f=""><div class="enjoy" data-v-7c95f01f=""><span class="new-title" data-v-7c95f01f="">å°å†Œæ–°äºº 5 æŠ˜åˆ¸</span></div><div class="sale" data-v-7c95f01f="">æœ€é«˜å¯çœ 15 å…ƒ</div></div></div></div><div class="remark" data-v-7c95f01f="">æ³¨ï¼šä¸“äº«åˆ¸çš„ä½¿ç”¨æœŸé™åœ¨é¢†åˆ¸çš„ä¸ƒå¤©å†…ã€‚</div><div class="submit-btn" data-v-7c95f01f="">ä¸€é”®é¢†å–</div></div><div class="model success" style="display: none;" data-v-7c95f01f=""><div class="heading" data-v-7c95f01f="">é¢†å–æˆåŠŸ</div><div class="content-text" data-v-7c95f01f="">è´­ä¹°å°å†Œæ—¶è‡ªåŠ¨ä½¿ç”¨ä¸“äº«åˆ¸</div><div class="btn-success-footer" data-v-7c95f01f=""><div class="btn-ok" data-v-7c95f01f="">çŸ¥é“äº†</div><div class="btn-ok btn-link" data-v-7c95f01f="">å‰å¾€å°å†Œé¦–é¡µ</div></div></div><div class="model fail" style="display: none;" data-v-7c95f01f=""><div class="heading" data-v-7c95f01f="">é¢†å–å¤±è´¥</div><div class="content-text" data-v-7c95f01f="">æœ¬æ´»åŠ¨ä»…é€‚ç”¨äºå°å†Œæ–°ç”¨æˆ·</div><div class="btn-ok" data-v-7c95f01f="">çŸ¥é“äº†</div></div></div><!----></div><!----><div data-v-3f216172="" data-v-41d33d72="" data-v-6ede48a3="" class="view-container"><div data-v-3f216172="" class="main-header-box"><header data-v-5ce25e66="" data-v-3f216172="" class="main-header main-header unauthorized visible"><div data-v-5ce25e66="" class="container"><a data-v-5ce25e66="" href="/" class="logo"><img data-v-5ce25e66="" src="https://b-gold-cdn.xitu.io/v3/static/img/logo.a7995ad.svg" alt="æ˜é‡‘" class="logo-img"></a><nav data-v-5ce25e66="" role="navigation" class="main-nav"><ul data-v-5ce25e66="" class="nav-list"><li data-v-5ce25e66="" class="main-nav-list"><div data-v-5ce25e66="" class="phone-show-menu"><span data-v-5ce25e66="">é¦–é¡µ</span><div data-v-5ce25e66="" class="icon ion-arrow-down-b"></div></div><ul data-v-5ce25e66="" class="phone-hide"><li data-v-5ce25e66="" class="nav-item link-item route-active"><a data-v-5ce25e66="" href="/">é¦–é¡µ</a></li><li data-v-5ce25e66="" class="nav-item link-item pin"><a data-v-5ce25e66="" href="/pins">æ²¸ç‚¹</a><!----></li><li data-v-5ce25e66="" class="nav-item link-item book"><a data-v-5ce25e66="" href="/books">å°å†Œ</a></li><li data-v-5ce25e66="" class="nav-item link-item"><a data-v-5ce25e66="" href="/repos">å¼€æºåº“</a></li><li data-v-5ce25e66="" class="nav-item link-item"><a data-v-5ce25e66="" href="/events/all">æ´»åŠ¨</a></li><li data-v-5ce25e66="" class="nav-item link-item conf"><a data-v-5ce25e66="" st:name="confGif" title="æ˜é‡‘å¼€å‘è€…å¤§ä¼š Â· å¾®ä¿¡å°ç¨‹åºä¸“åœº" target="_blank" href="https://conf.juejin.im/2018/mini-programs"><img data-v-5ce25e66="" src="https://b-gold-cdn.xitu.io/v3/static/img/conf.78960f5.gif" alt="æ˜é‡‘å¼€å‘è€…å¤§ä¼š Â· å¾®ä¿¡å°ç¨‹åºä¸“åœº" class="conf-icon"></a></li></ul></li><li data-v-5ce25e66="" class="nav-item search"><form data-v-5ce25e66="" role="search" class="search-form"><input data-v-5ce25e66="" maxlength="32" placeholder="æœç´¢æ˜é‡‘" class="search-input"><img data-v-5ce25e66="" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjJweCIgaGVpZ2h0PSIyMnB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogc2tldGNodG9vbCA0MS4yICgzNTM5NykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+Qjk3RUIxMEEtOEYzNC00QUI1LUFCQUYtNDFEOTMzNzQxRUQwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBza2V0Y2h0b29sLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSLpppbpobUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLlr7zoiKrmoI/mkJzntKLmoYYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05OTAuMDAwMDAwLCAtMTkuMDAwMDAwKSIgZmlsbD0iI0MzQ0NENSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTkwLjAwMDAwMCwgMTkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuOTg2MTI2LDE0LjQwMDMzOTUgTDE2LjI5Mjg5MzIsMTcuNzA3MTA2OCBDMTYuNjgzNDE3NSwxOC4wOTc2MzExIDE3LjMxNjU4MjUsMTguMDk3NjMxMSAxNy43MDcxMDY4LDE3LjcwNzEwNjggQzE4LjA5NzYzMTEsMTcuMzE2NTgyNSAxOC4wOTc2MzExLDE2LjY4MzQxNzUgMTcuNzA3MTA2OCwxNi4yOTI4OTMyIEwxNC40MDAzMzk1LDEyLjk4NjEyNiBDMTUuOTYwMzg4MSwxMC43NTczMjk4IDE1Ljc0NTI0MDIsNy42NjQwMTk4MyAxMy43NTQ4OTU5LDUuNjczNjc1NTQgQzExLjUyMzMyODUsMy40NDIxMDgxNSA3LjkwNTI0MjkyLDMuNDQyMTA4MTUgNS42NzM2NzU1NCw1LjY3MzY3NTU0IEMzLjQ0MjEwODE1LDcuOTA1MjQyOTIgMy40NDIxMDgxNSwxMS41MjMzMjg1IDUuNjczNjc1NTQsMTMuNzU0ODk1OSBDNy42NjQwMTk4MywxNS43NDUyNDAyIDEwLjc1NzMyOTgsMTUuOTYwMzg4MSAxMi45ODYxMjYsMTQuNDAwMzM5NSBaIE03LjA4Nzg4OTEsMTIuMzQwNjgyMyBDNS42MzczNzAzLDEwLjg5MDE2MzUgNS42MzczNzAzLDguNTM4NDA3OSA3LjA4Nzg4OTEsNy4wODc4ODkxIEM4LjUzODQwNzksNS42MzczNzAzIDEwLjg5MDE2MzUsNS42MzczNzAzIDEyLjM0MDY4MjMsNy4wODc4ODkxIEMxMy43OTEyMDExLDguNTM4NDA3OSAxMy43OTEyMDExLDEwLjg5MDE2MzUgMTIuMzQwNjgyMywxMi4zNDA2ODIzIEMxMC44OTAxNjM1LDEzLjc5MTIwMTEgOC41Mzg0MDc5LDEzLjc5MTIwMTEgNy4wODc4ODkxLDEyLjM0MDY4MjMgWiIgaWQ9IkNvbWJpbmVkLVNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==" alt="æœç´¢" class="search-icon"></form></li><!----><!----><!----><li data-v-5ce25e66="" class="nav-item submit"><img data-v-5ce25e66="" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjJweCIgaGVpZ2h0PSIyMnB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogc2tldGNodG9vbCA0MiAoMzY3ODEpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPjA1Q0I0NzU5LUIyRkQtNDcxOC04RTBDLTg0OEVCNzQ2RDAyMzwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggc2tldGNodG9vbC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8cmVjdCBpZD0icGF0aC0xIiB4PSIyMzgiIHk9IjEyOCIgd2lkdGg9IjcwMCIgaGVpZ2h0PSI1MCIgcng9IjIiPjwvcmVjdD4KICAgICAgICA8ZmlsdGVyIHg9Ii01MCUiIHk9Ii01MCUiIHdpZHRoPSIyMDAlIiBoZWlnaHQ9IjIwMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC4wNTAyNzE3MzkxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8cmVjdCBpZD0icGF0aC0zIiB4PSI0IiB5PSI0IiB3aWR0aD0iMTMiIGhlaWdodD0iMTQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgPG1hc2sgaWQ9Im1hc2stNCIgbWFza0NvbnRlbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHg9IjAiIHk9IjAiIHdpZHRoPSIxMyIgaGVpZ2h0PSIxNCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTMiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSLpppbpobUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLpppbpobUyX0NvX+aZrumAmueUqOaItyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwNS4wMDAwMDAsIC0xNDIuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJDb21iaW5lZC1TaGFwZSI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzA1LjAwMDAwMCwgMTQyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0zIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05Ljg5NTY2MjY1LDkuMzQ2Mjc4MzIgTDYuNjY3NTA3MzEsOS4zNDYyNzgzMiBDNi4zNzA1MDcxNyw5LjM0NjI3ODMyIDYuMTI5NDQ5ODQsOS4xMDI3MDQ4MiA2LjEyOTQ0OTg0LDguODAyNTc4MzYgQzYuMTI5NDQ5ODQsOC41MDI0NzMxNyA2LjM3MDUwNzE3LDguMjU4ODk5NjggNi42Njc1MDczMSw4LjI1ODg5OTY4IEw5Ljg5NTY4MzcxLDguMjU4ODk5NjggQzEwLjE5MjYyMDcsOC4yNTg4OTk2OCAxMC40MzM2NTcsOC41MDI0NzMxNyAxMC40MzM2NTcsOC44MDI1NzgzNiBDMTAuNDMzNjM1OSw5LjEwMjcwNDgyIDEwLjE5MjU5OTYsOS4zNDYyNzgzMiA5Ljg5NTY2MjY1LDkuMzQ2Mjc4MzIgTTEzLjExMzIzNzEsMTIuNjA4NDE0MiBMNi42NjY2OTgyLDEyLjYwODQxNDIgQzYuMzcwMTQ0NjcsMTIuNjA4NDE0MiA2LjEyOTQ0OTg0LDEyLjM2NTQwNTcgNi4xMjk0NDk4NCwxMi4wNjQ3NTY4IEM2LjEyOTQ0OTg0LDExLjc2NDAyMjkgNi4zNzAxNDQ2NywxMS41MjEwMzU2IDYuNjY2Njk4MiwxMS41MjEwMzU2IEwxMy4xMTMyMzcxLDExLjUyMTAzNTYgQzEzLjQxMDI3NDEsMTEuNTIxMDM1NiAxMy42NTA0ODU0LDExLjc2NDAyMjkgMTMuNjUwNDg1NCwxMi4wNjQ3NTY4IEMxMy42NTA0ODU0LDEyLjM2NTM4NDQgMTMuNDEwMjc0MSwxMi42MDg0MTQyIDEzLjExMzIzNzEsMTIuNjA4NDE0MiIgaWQ9Imljb25mb250LWJpYW5qaSIgZmlsbD0iIzAwN0ZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHVzZSBpZD0iUmVjdGFuZ2xlIiBzdHJva2U9IiMwMDdGRkYiIG1hc2s9InVybCgjbWFzay00KSIgc3Ryb2tlLXdpZHRoPSIyIiB4bGluazpocmVmPSIjcGF0aC0zIj48L3VzZT4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+" class="icon"><span data-v-5ce25e66="">å†™æ–‡ç« </span><!----></li><li data-v-5ce25e66="" class="nav-item auth"><span data-v-5ce25e66="" class="login">ç™»å½•</span><span data-v-5ce25e66="" class="register">æ³¨å†Œ</span></li></ul></nav></div></header></div><main data-v-3f216172="" class="container main-container"><div data-v-41d33d72="" data-v-3f216172="" class="view entry-public-view"><div data-v-41d33d72="" data-v-3f216172="" class="entry-public-main shadow"><!----><!----><article data-v-41d33d72="" itemscope="itemscope" itemtype="http://schema.org/Article" class="entry-content-box" data-v-3f216172=""><meta itemprop="url" content="https://juejin.im/entry/5bce4883e51d4579ef2c7572"><meta itemprop="headline" content="åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ— RocketMQ æºç åˆ†æ â€”â€” é«˜å¯ç”¨"><meta itemprop="keywords" content="Java"><meta itemprop="datePublished" content="2018-10-22T22:00:35.773Z"><meta itemprop="image" content="https://b-gold-cdn.xitu.io/icon/icon-128.png"><div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaå…¬ä¼—å·_èŠ‹é“æºç _æ¯æ—¥æ›´æ–°"><meta itemprop="url" content="https://juejin.im/user/5904c637b123db3ee479d923"></div><div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"><div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://b-gold-cdn.xitu.io/icon/icon-white-180.png"><meta itemprop="width" content="180"><meta itemprop="height" content="180"></div></div><h1 data-v-41d33d72="">åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ— RocketMQ æºç åˆ†æ â€”â€” é«˜å¯ç”¨</h1><div data-v-41d33d72="" class="entry-public-info"><div data-v-41d33d72="" class="text-muted info-item">é˜…è¯» 1697</div><div data-v-41d33d72="" class="text-muted info-item">æ”¶è— 26</div><div data-v-41d33d72="" class="text-muted info-item">2018-10-23</div></div><div data-v-41d33d72="" class="originalUrl">åŸæ–‡é“¾æ¥ï¼š<a data-v-41d33d72="" st:name="originLink" href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%3Fjuejin%262018-10-23" rel="nofollow noopener noreferrer" target="_blank">www.iocoder.cn</a></div><a data-v-41d33d72="" class="banner" href="https://cloud.tencent.com/act/special/amd?fromSource=gwzcw.1351356.1351356.1351356" rel="nofollow noopener noreferrer" target="_blank"><span data-v-41d33d72="" class="text">ä¸šç•Œé¢†å…ˆæ€§ä»·æ¯” é™æ—¶ç‰¹ä»·ä½è‡³17å…ƒ/æœˆ</span><span data-v-41d33d72="" class="link">cloud.tencent.com</span></a><div data-v-41d33d72="" itemprop="articleBody" class="entry-content article-content"> <a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FDubbo%2Fgood-collection%2F%3Ftitle" target="_blank" rel="nofollow noopener noreferrer">è‡ªæˆ‘è¡¨æ‰¬ï¼šã€ŠDubbo å®ç°åŸç†ä¸æºç è§£æ â€”â€” ç²¾å“åˆé›†ã€‹</a> <br> <a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FEntity%2Fgood-collection%2F%3Ftitle" target="_blank" rel="nofollow noopener noreferrer">è¡¨æ‰¬è‡ªå·±ï¼šã€ŠDæ•°æ®åº“å®ä½“è®¾è®¡åˆé›†ã€‹</a>
    <p>æ‘˜è¦: åŸåˆ›å‡ºå¤„ <a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">www.iocoder.cn/RocketMQ/hiâ€¦</a> ã€ŒèŠ‹é“æºç ã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼</p>
    <p><strong>æœ¬æ–‡ä¸»è¦åŸºäº RocketMQ 4.0.x æ­£å¼ç‰ˆ</strong> </p>
    <ul>
        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">1. æ¦‚è¿°</a></li>
        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">2. Namesrv é«˜å¯ç”¨</a>
            <ul>
                <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">2.1 Broker æ³¨å†Œåˆ° Namesrv</a></li>
                <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">2.2 Producerã€Consumer è®¿é—® Namesrv</a></li>
            </ul>
        </li>
        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3. Broker é«˜å¯ç”¨</a>
            <ul>
                <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3.2 Broker ä¸»ä»</a>
                    <ul>
                        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3.1.1 é…ç½®</a></li>
                        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3.1.2 ç»„ä»¶</a></li>
                        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3.1.3 é€šä¿¡åè®®</a></li>
                        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3.1.4 Slave</a></li>
                        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3.1.5 Master</a></li>
                        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3.1.6 Master_SYNC</a></li>
                    </ul>
                </li>
                <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3.2 Producer å‘é€æ¶ˆæ¯</a></li>
                <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">3.3 Consumer æ¶ˆè´¹æ¶ˆæ¯</a></li>
            </ul>
        </li>
        <li><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.iocoder.cn%2FRocketMQ%2Fhigh-availability%2F" target="_blank" rel="nofollow noopener noreferrer">4. æ€»ç»“</a></li>
    </ul>
    <hr>
    <p><img alt="" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2018/10/18/166840b9b5db2e09?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="536" src="https://user-gold-cdn.xitu.io/2018/10/18/166840b9b5db2e09?imageView2/0/w/1280/h/960/ignore-error/1"></p>
    <blockquote>
        <p>ğŸ™‚ğŸ™‚ğŸ™‚å…³æ³¨<strong>å¾®ä¿¡å…¬ä¼—å·ï¼šã€èŠ‹é“æºç ã€‘</strong>æœ‰ç¦åˆ©ï¼š </p>
        <ol>
            <li>RocketMQ / MyCAT / Sharding-JDBC <strong>æ‰€æœ‰</strong>æºç åˆ†ææ–‡ç« åˆ—è¡¨ </li>
            <li>RocketMQ / MyCAT / Sharding-JDBC <strong>ä¸­æ–‡æ³¨é‡Šæºç  GitHub åœ°å€</strong> </li>
            <li>æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€<strong>éƒ½</strong>å°†å¾—åˆ°<strong>è®¤çœŸ</strong>å›å¤ã€‚<strong>ç”šè‡³ä¸çŸ¥é“å¦‚ä½•è¯»æºç ä¹Ÿå¯ä»¥è¯·æ•™å™¢</strong>ã€‚ </li>
            <li><strong>æ–°çš„</strong>æºç è§£ææ–‡ç« <strong>å®æ—¶</strong>æ”¶åˆ°é€šçŸ¥ã€‚<strong>æ¯å‘¨æ›´æ–°ä¸€ç¯‡å·¦å³</strong>ã€‚ </li>
            <li><strong>è®¤çœŸçš„</strong>æºç äº¤æµå¾®ä¿¡ç¾¤ã€‚</li>
        </ol>
    </blockquote>
    <hr>
    <h1 id="1-æ¦‚è¿°" data-id="heading-0"><a href="#1-æ¦‚è¿°" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h1>
    <p>æœ¬æ–‡ä¸»è¦è§£æ <code>Namesrv</code>ã€<code>Broker</code> å¦‚ä½•å®ç°é«˜å¯ç”¨ï¼Œ<code>Producer</code>ã€<code>Consumer</code> æ€ä¹ˆä¸å®ƒä»¬é€šä¿¡ä¿è¯é«˜å¯ç”¨ã€‚</p>
    <h1 id="2-Namesrv-é«˜å¯ç”¨" data-id="heading-1"><a href="#2-Namesrv-é«˜å¯ç”¨" title="2. Namesrv é«˜å¯ç”¨"></a>2. Namesrv é«˜å¯ç”¨</h1>
    <p>å¯åŠ¨å¤šä¸ª <code>Namesrv</code> å®ç°é«˜å¯ç”¨ã€‚<br>ç›¸è¾ƒäº <code>Zookeeper</code>ã€<code>Consul</code>ã€<code>Etcd</code> ç­‰ï¼Œ<code>Namesrv</code> æ˜¯ä¸€ä¸ª<strong>è¶…è½»é‡çº§</strong>çš„æ³¨å†Œä¸­å¿ƒï¼Œæä¾›<strong>å‘½åæœåŠ¡</strong>ã€‚</p>
    <h2 id="2-1-Broker-æ³¨å†Œåˆ°-Namesrv" data-id="heading-2"><a href="#2-1-Broker-æ³¨å†Œåˆ°-Namesrv" title="2.1 Broker æ³¨å†Œåˆ° Namesrv"></a>2.1 Broker æ³¨å†Œåˆ° Namesrv</h2>
    <ul>
        <li>ğŸ“Œ å¤šä¸ª <code>Namesrv</code> ä¹‹é—´ï¼Œæ²¡æœ‰ä»»ä½•å…³ç³»ï¼ˆä¸å­˜åœ¨ç±»ä¼¼ <code>Zookeeper</code> çš„ <code>Leader</code>/<code>Follower</code> ç­‰è§’è‰²ï¼‰ï¼Œä¸è¿›è¡Œé€šä¿¡ä¸æ•°æ®åŒæ­¥ã€‚é€šè¿‡ <code>Broker</code> å¾ªç¯æ³¨å†Œå¤šä¸ª <code>Namesrv</code>ã€‚</li>
    </ul>
    <pre><code> 1: // â¬‡ï¸â¬‡ï¸â¬‡ï¸ã€BrokerOuterAPI.javaã€‘
 2: public RegisterBrokerResult registerBrokerAll(
 3:     final String clusterName,
 4:     final String brokerAddr,
 5:     final String brokerName,
 6:     final long brokerId,
 7:     final String haServerAddr,
 8:     final TopicConfigSerializeWrapper topicConfigWrapper,
 9:     final List&lt;String&gt; filterServerList,
10:     final boolean oneway,
11:     final int timeoutMills) {
12:     RegisterBrokerResult registerBrokerResult = null;
13: 
14:     List&lt;String&gt; nameServerAddressList = this.remotingClient.getNameServerAddressList();
15:     if (nameServerAddressList != null) {
16:         for (String namesrvAddr : nameServerAddressList) { // å¾ªç¯å¤šä¸ª Namesrv
17:             try {
18:                 RegisterBrokerResult result = this.registerBroker(namesrvAddr, clusterName, brokerAddr, brokerName, brokerId,
19:                     haServerAddr, topicConfigWrapper, filterServerList, oneway, timeoutMills);
20:                 if (result != null) {
21:                     registerBrokerResult = result;
22:                 }
23: 
24:                 log.info("register broker to name server {} OK", namesrvAddr);
25:             } catch (Exception e) {
26:                 log.warn("registerBroker Exception, {}", namesrvAddr, e);
27:             }
28:         }
29:     }
30: 
31:     return registerBrokerResult;
32: }
</code></pre>
    <h2 id="2-2-Producerã€Consumer-è®¿é—®-Namesrv" data-id="heading-3"><a href="#2-2-Producerã€Consumer-è®¿é—®-Namesrv" title="2.2 Producerã€Consumer è®¿é—® Namesrv"></a>2.2 Producerã€Consumer è®¿é—® Namesrv</h2>
    <ul>
        <li>ğŸ“Œ <code>Producer</code>ã€<code>Consumer</code> ä» <code>Namesrv</code>åˆ—è¡¨é€‰æ‹©ä¸€ä¸ªå¯è¿æ¥çš„è¿›è¡Œé€šä¿¡ã€‚</li>
    </ul>
    <pre><code> 1: // â¬‡ï¸â¬‡ï¸â¬‡ï¸ã€NettyRemotingClient.javaã€‘
 2: private Channel getAndCreateNameserverChannel() throws InterruptedException {
 3:     // è¿”å›å·²é€‰æ‹©ã€å¯è¿æ¥Namesrv
 4:     String addr = this.namesrvAddrChoosed.get();
 5:     if (addr != null) {
 6:         ChannelWrapper cw = this.channelTables.get(addr);
 7:         if (cw != null &amp;&amp; cw.isOK()) {
 8:             return cw.getChannel();
 9:         }
10:     }
11:     //
12:     final List&lt;String&gt; addrList = this.namesrvAddrList.get();
13:     if (this.lockNamesrvChannel.tryLock(LOCK_TIMEOUT_MILLIS, TimeUnit.MILLISECONDS)) {
14:         try {
15:             // è¿”å›å·²é€‰æ‹©ã€å¯è¿æ¥çš„Namesrv
16:             addr = this.namesrvAddrChoosed.get();
17:             if (addr != null) {
18:                 ChannelWrapper cw = this.channelTables.get(addr);
19:                 if (cw != null &amp;&amp; cw.isOK()) {
20:                     return cw.getChannel();
21:                 }
22:             }
23:             // ä»ã€Namesrvåˆ—è¡¨ã€‘ä¸­é€‰æ‹©ä¸€ä¸ªè¿æ¥çš„è¿”å›
24:             if (addrList != null &amp;&amp; !addrList.isEmpty()) {
25:                 for (int i = 0; i &lt; addrList.size(); i++) {
26:                     int index = this.namesrvIndex.incrementAndGet();
27:                     index = Math.abs(index);
28:                     index = index % addrList.size();
29:                     String newAddr = addrList.get(index);
30: 
31:                     this.namesrvAddrChoosed.set(newAddr);
32:                     Channel channelNew = this.createChannel(newAddr);
33:                     if (channelNew != null)
34:                         return channelNew;
35:                 }
36:             }
37:         } catch (Exception e) {
38:             log.error("getAndCreateNameserverChannel: create name server channel exception", e);
39:         } finally {
40:             this.lockNamesrvChannel.unlock();
41:         }
42:     } else {
43:         log.warn("getAndCreateNameserverChannel: try to lock name server, but timeout, {}ms", LOCK_TIMEOUT_MILLIS);
44:     }
45: 
46:     return null;
47: }
</code></pre>
    <h1 id="3-Broker-é«˜å¯ç”¨" data-id="heading-4"><a href="#3-Broker-é«˜å¯ç”¨" title="3. Broker é«˜å¯ç”¨"></a>3. Broker é«˜å¯ç”¨</h1>
    <p>å¯åŠ¨å¤šä¸ª <code>Brokeråˆ†ç»„</code> å½¢æˆ <code>é›†ç¾¤</code> å®ç°é«˜å¯ç”¨ã€‚<br><code>Brokeråˆ†ç»„</code> = <code>MasterèŠ‚ç‚¹</code>x1 + <code>SlaveèŠ‚ç‚¹</code>xNã€‚<br>ç±»ä¼¼ <code>MySQL</code>ï¼Œ<code>MasterèŠ‚ç‚¹</code> æä¾›<strong>è¯»å†™</strong>æœåŠ¡ï¼Œ<code>SlaveèŠ‚ç‚¹</code> åªæä¾›<strong>è¯»</strong>æœåŠ¡ã€‚
        </p>
    <h2 id="3-2-Broker-ä¸»ä»" data-id="heading-5"><a href="#3-2-Broker-ä¸»ä»" title="3.2 Broker ä¸»ä»"></a>3.2 Broker ä¸»ä»</h2>
    <ul>
        <li>æ¯ä¸ªåˆ†ç»„ï¼Œ<code>Master</code>èŠ‚ç‚¹ ä¸æ–­å‘é€æ–°çš„ <code>CommitLog</code> ç»™ <code>Slave</code>èŠ‚ç‚¹ã€‚ <code>Slave</code>èŠ‚ç‚¹ ä¸æ–­ä¸ŠæŠ¥æœ¬åœ°çš„ <code>CommitLog</code> å·²ç»åŒæ­¥åˆ°çš„ä½ç½®ç»™ <code>Master</code>èŠ‚ç‚¹ã€‚</li>
        <li><code>Brokeråˆ†ç»„</code> ä¸ <code>Brokeråˆ†ç»„</code> ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œä¸è¿›è¡Œé€šä¿¡ä¸æ•°æ®åŒæ­¥ã€‚</li>
        <li>æ¶ˆè´¹è¿›åº¦ ç›®å‰ä¸æ”¯æŒ <code>Master</code>/<code>Slave</code> åŒæ­¥ã€‚</li>
    </ul>
    <p>é›†ç¾¤å†…ï¼Œ<code>Master</code>èŠ‚ç‚¹ æœ‰<strong>ä¸¤ç§</strong>ç±»å‹ï¼š<code>Master_SYNC</code>ã€<code>Master_ASYNC</code>ï¼šå‰è€…åœ¨ <code>Producer</code> å‘é€æ¶ˆæ¯æ—¶ï¼Œç­‰å¾… <code>Slave</code>èŠ‚ç‚¹ å­˜å‚¨å®Œæ¯•åå†è¿”å›å‘é€ç»“æœï¼Œè€Œåè€…ä¸éœ€è¦ç­‰å¾…ã€‚</p>
    <h3 id="3-1-1-é…ç½®" data-id="heading-6"><a href="#3-1-1-é…ç½®" title="3.1.1 é…ç½®"></a>3.1.1 é…ç½®</h3>
    <p>ç›®å‰å®˜æ–¹æä¾›ä¸‰å¥—é…ç½®ï¼š</p>
    <ul>
        <li><strong>2m-2s-async</strong></li>
    </ul>
    <table>
        <thead>
            <tr>
                <th>brokerClusterName</th>
                <th>brokerName</th>
                <th>brokerRole</th>
                <th>brokerId</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-a</td>
                <td>ASYNC_MASTER</td>
                <td>0</td>
            </tr>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-a</td>
                <td>SLAVE</td>
                <td>1</td>
            </tr>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-b</td>
                <td>ASYNC_MASTER</td>
                <td>0</td>
            </tr>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-b</td>
                <td>SLAVE</td>
                <td>1</td>
            </tr>
        </tbody>
    </table>
    <ul>
        <li><strong>2m-2s-sync</strong></li>
    </ul>
    <table>
        <thead>
            <tr>
                <th>brokerClusterName</th>
                <th>brokerName</th>
                <th>brokerRole</th>
                <th>brokerId</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-a</td>
                <td>SYNC_MASTER</td>
                <td>0</td>
            </tr>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-a</td>
                <td>SLAVE</td>
                <td>1</td>
            </tr>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-b</td>
                <td>SYNC_MASTER</td>
                <td>0</td>
            </tr>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-b</td>
                <td>SLAVE</td>
                <td>1</td>
            </tr>
        </tbody>
    </table>
    <ul>
        <li><strong>2m-noslave</strong></li>
    </ul>
    <table>
        <thead>
            <tr>
                <th>brokerClusterName</th>
                <th>brokerName</th>
                <th>brokerRole</th>
                <th>brokerId</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-a</td>
                <td>ASYNC_MASTER</td>
                <td>0</td>
            </tr>
            <tr>
                <td>DefaultCluster</td>
                <td>broker-b</td>
                <td>ASYNC_MASTER</td>
                <td>0</td>
            </tr>
        </tbody>
    </table>
    <h3 id="3-1-2-ç»„ä»¶" data-id="heading-7"><a href="#3-1-2-ç»„ä»¶" title="3.1.2 ç»„ä»¶"></a>3.1.2 ç»„ä»¶</h3>
    <p>å†çœ‹å…·ä½“å®ç°ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ <code>Master</code>/<code>Slave</code>èŠ‚ç‚¹ åŒ…å«çš„ç»„ä»¶ï¼š<br><img alt="HAç»„ä»¶å›¾.png" class="lazyload inited" data-src="https://user-gold-cdn.xitu.io/2018/10/23/1669dcb5ddcbd730?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1222" data-height="526" src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1222&quot; height=&quot;526&quot;&gt;&lt;/svg&gt;"></p>
    <ul>
        <li><code>Master</code>èŠ‚ç‚¹
            <ul>
                <li><code>AcceptSocketService</code> ï¼šæ¥æ”¶ <code>Slave</code>èŠ‚ç‚¹ è¿æ¥ã€‚</li>
                <li><code>HAConnection</code>
                    <ul>
                        <li><code>ReadSocketService</code> ï¼š<strong>è¯»</strong>æ¥è‡ª <code>Slave</code>èŠ‚ç‚¹ çš„æ•°æ®ã€‚ </li>
                        <li><code>WriteSocketService</code> ï¼š<strong>å†™</strong>åˆ°å¾€ <code>Slave</code>èŠ‚ç‚¹ çš„æ•°æ®ã€‚</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li><code>Slave</code>èŠ‚ç‚¹
            <ul>
                <li><code>HAClient</code> ï¼šå¯¹ <code>Master</code>èŠ‚ç‚¹ è¿æ¥ã€è¯»å†™æ•°æ®ã€‚</li>
            </ul>
        </li>
    </ul>
    <h3 id="3-1-3-é€šä¿¡åè®®" data-id="heading-8"><a href="#3-1-3-é€šä¿¡åè®®" title="3.1.3 é€šä¿¡åè®®"></a>3.1.3 é€šä¿¡åè®®</h3>
    <p><code>Master</code>èŠ‚ç‚¹ ä¸ <code>Slave</code>èŠ‚ç‚¹ <strong>é€šä¿¡åè®®</strong>å¾ˆç®€å•ï¼Œåªæœ‰å¦‚ä¸‹ä¸¤æ¡ã€‚</p>
    <table>
        <thead>
            <tr>
                <th>å¯¹è±¡</th>
                <th>ç”¨é€”</th>
                <th>ç¬¬å‡ ä½</th>
                <th>å­—æ®µ</th>
                <th>æ•°æ®ç±»å‹</th>
                <th>å­—èŠ‚æ•°</th>
                <th>è¯´æ˜</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Slave=&gt;Master</td>
                <td>ä¸ŠæŠ¥CommitLog<strong>å·²ç»</strong>åŒæ­¥åˆ°çš„<strong>ç‰©ç†</strong>ä½ç½®</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>0</td>
                <td>maxPhyOffset</td>
                <td>Long</td>
                <td>8</td>
                <td>CommitLogæœ€å¤§ç‰©ç†ä½ç½®</td>
            </tr>
            <tr>
                <td>Master=&gt;Slave</td>
                <td>ä¼ è¾“æ–°çš„ <code>CommitLog</code> æ•°æ®</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>0</td>
                <td>fromPhyOffset</td>
                <td>Long</td>
                <td>8</td>
                <td>CommitLogå¼€å§‹ç‰©ç†ä½ç½®</td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>1</td>
                <td>size</td>
                <td>Int</td>
                <td>4</td>
                <td>ä¼ è¾“CommitLogæ•°æ®é•¿åº¦</td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>2</td>
                <td>body</td>
                <td>Bytes</td>
                <td>size</td>
                <td>ä¼ è¾“CommitLogæ•°æ®</td>
            </tr>
        </tbody>
    </table>
    <h3 id="3-1-4-Slave" data-id="heading-9"><a href="#3-1-4-Slave" title="3.1.4 Slave"></a>3.1.4 Slave</h3>
    <p><img alt="HAClienté¡ºåºå›¾" class="lazyload inited" data-src="https://user-gold-cdn.xitu.io/2018/10/23/1669dcb5ddbe94bd?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="950" src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;950&quot;&gt;&lt;/svg&gt;"></p>
    <hr>
    <ul>
        <li><code>Slave</code> ä¸»å¾ªç¯ï¼Œå®ç°äº†ä¸æ–­ä¸æ–­ä¸æ–­<strong>ä» <code>Master</code> ä¼ è¾“ <code>CommitLog</code> æ•°æ®ï¼Œä¸Šä¼  <code>Master</code> è‡ªå·±æœ¬åœ°çš„ <code>CommitLog</code> å·²ç»åŒæ­¥ç‰©ç†ä½ç½®ã€‚</strong></li>
    </ul>
    <pre><code> 1: // â¬‡ï¸â¬‡ï¸â¬‡ï¸ã€HAClient.javaã€‘
 2: public void run() {
 3:     log.info(this.getServiceName() + " service started");
 4: 
 5:     while (!this.isStopped()) {
 6:         try {
 7:             if (this.connectMaster()) {
 8:                 // è‹¥åˆ°æ»¡è¶³ä¸ŠæŠ¥é—´éš”ï¼Œä¸ŠæŠ¥åˆ°Masterè¿›åº¦
 9:                 if (this.isTimeToReportOffset()) {
10:                     boolean result = this.reportSlaveMaxOffset(this.currentReportedOffset);
11:                     if (!result) {
12:                         this.closeMaster();
13:                     }
14:                 }
15: 
16:                 this.selector.select(1000);
17: 
18:                 // å¤„ç†è¯»å–äº‹ä»¶
19:                 boolean ok = this.processReadEvent();
20:                 if (!ok) {
21:                     this.closeMaster();
22:                 }
23: 
24:                 // è‹¥è¿›åº¦æœ‰å˜åŒ–ï¼Œä¸ŠæŠ¥åˆ°Masterè¿›åº¦
25:                 if (!reportSlaveMaxOffsetPlus()) {
26:                     continue;
27:                 }
28: 
29:                 // Masterè¿‡ä¹…æœªè¿”å›æ•°æ®ï¼Œå…³é—­è¿æ¥
30:                 long interval = HAService.this.getDefaultMessageStore().getSystemClock().now() - this.lastWriteTimestamp;
31:                 if (interval &gt; HAService.this.getDefaultMessageStore().getMessageStoreConfig()
32:                     .getHaHousekeepingInterval()) {
33:                     log.warn("HAClient, housekeeping, found this connection[" + this.masterAddress
34:                         + "] expired, " + interval);
35:                     this.closeMaster();
36:                     log.warn("HAClient, master not response some time, so close connection");
37:                 }
38:             } else {
39:                 this.waitForRunning(1000 * 5);
40:             }
41:         } catch (Exception e) {
42:             log.warn(this.getServiceName() + " service has exception. ", e);
43:             this.waitForRunning(1000 * 5);
44:         }
45:     }
46: 
47:     log.info(this.getServiceName() + " service end");
48: }
</code></pre>
    <ul>
        <li>ç¬¬ 8 è‡³ 14 è¡Œ ï¼š<strong>å›ºå®šé—´éš”ï¼ˆé»˜è®¤5sï¼‰</strong>å‘ <code>Master</code> ä¸ŠæŠ¥ <code>Slave</code> æœ¬åœ° <code>CommitLog</code> å·²ç»åŒæ­¥åˆ°çš„ç‰©ç†ä½ç½®ã€‚è¯¥æ“ä½œè¿˜æœ‰<strong>å¿ƒè·³</strong>çš„ä½œç”¨ã€‚</li>
        <li>ç¬¬ 16 è‡³ 22 è¡Œ ï¼šå¤„ç† <code>Master</code> ä¼ è¾“ <code>Slave</code> çš„ <code>CommitLog</code> æ•°æ®ã€‚</li>
    </ul>
    <hr>
    <ul>
        <li>æˆ‘ä»¬æ¥çœ‹çœ‹ <code>#dispatchReadRequest(...)</code> ä¸ <code>#reportSlaveMaxOffset(...)</code> æ˜¯æ€ä¹ˆå®ç°çš„ã€‚</li>
    </ul>
    <pre><code> 1: // ã€HAClient.javaã€‘
 2: /**
 3:  * è¯»å–Masterä¼ è¾“çš„CommitLogæ•°æ®ï¼Œå¹¶è¿”å›æ˜¯å¼‚å¸¸
 4:  * å¦‚æœè¯»å–åˆ°æ•°æ®ï¼Œå†™å…¥CommitLog
 5:  * å¼‚å¸¸åŸå› ï¼š
 6:  *   1. Masterä¼ è¾“æ¥çš„æ•°æ®offset ä¸ç­‰äº Slaveçš„CommitLogæ•°æ®æœ€å¤§offset
 7:  *   2. ä¸ŠæŠ¥åˆ°Masterè¿›åº¦å¤±è´¥
 8:  *
 9:  * @return æ˜¯å¦å¼‚å¸¸
10:  */
11: private boolean dispatchReadRequest() {
12:     final int msgHeaderSize = 8 + 4; // phyoffset + size
13:     int readSocketPos = this.byteBufferRead.position();
14: 
15:     while (true) {
16:         // è¯»å–åˆ°è¯·æ±‚
17:         int diff = this.byteBufferRead.position() - this.dispatchPostion;
18:         if (diff &gt;= msgHeaderSize) {
19:             // è¯»å–masterPhyOffsetã€bodySizeã€‚ä½¿ç”¨dispatchPostionçš„åŸå› æ˜¯ï¼šå¤„ç†æ•°æ®â€œç²˜åŒ…â€å¯¼è‡´æ•°æ®è¯»å–ä¸å®Œæ•´ã€‚
20:             long masterPhyOffset = this.byteBufferRead.getLong(this.dispatchPostion);
21:             int bodySize = this.byteBufferRead.getInt(this.dispatchPostion + 8);
22:             // æ ¡éªŒ Masterä¼ è¾“æ¥çš„æ•°æ®offset æ˜¯å¦å’Œ Slaveçš„CommitLogæ•°æ®æœ€å¤§offset æ˜¯å¦ç›¸åŒã€‚
23:             long slavePhyOffset = HAService.this.defaultMessageStore.getMaxPhyOffset();
24:             if (slavePhyOffset != 0) {
25:                 if (slavePhyOffset != masterPhyOffset) {
26:                     log.error("master pushed offset not equal the max phy offset in slave, SLAVE: "
27:                         + slavePhyOffset + " MASTER: " + masterPhyOffset);
28:                     return false;
29:                 }
30:             }
31:             // è¯»å–åˆ°æ¶ˆæ¯
32:             if (diff &gt;= (msgHeaderSize + bodySize)) {
33:                 // å†™å…¥CommitLog
34:                 byte[] bodyData = new byte[bodySize];
35:                 this.byteBufferRead.position(this.dispatchPostion + msgHeaderSize);
36:                 this.byteBufferRead.get(bodyData);
37:                 HAService.this.defaultMessageStore.appendToCommitLog(masterPhyOffset, bodyData);
38:                 // è®¾ç½®å¤„ç†åˆ°çš„ä½ç½®
39:                 this.byteBufferRead.position(readSocketPos);
40:                 this.dispatchPostion += msgHeaderSize + bodySize;
41:                 // ä¸ŠæŠ¥åˆ°Masterè¿›åº¦
42:                 if (!reportSlaveMaxOffsetPlus()) {
43:                     return false;
44:                 }
45:                 // ç»§ç»­å¾ªç¯
46:                 continue;
47:             }
48:         }
49: 
50:         // ç©ºé—´å†™æ»¡ï¼Œé‡æ–°åˆ†é…ç©ºé—´
51:         if (!this.byteBufferRead.hasRemaining()) {
52:             this.reallocateByteBuffer();
53:         }
54: 
55:         break;
56:     }
57: 
58:     return true;
59: }
60: 
61: /**
62:  * ä¸ŠæŠ¥è¿›åº¦
63:  *
64:  * @param maxOffset è¿›åº¦
65:  * @return æ˜¯å¦ä¸ŠæŠ¥æˆåŠŸ
66:  */
67: private boolean reportSlaveMaxOffset(final long maxOffset) {
68:     this.reportOffset.position(0);
69:     this.reportOffset.limit(8);
70:     this.reportOffset.putLong(maxOffset);
71:     this.reportOffset.position(0);
72:     this.reportOffset.limit(8);
73: 
74:     for (int i = 0; i &lt; 3 &amp;&amp; this.reportOffset.hasRemaining(); i++) {
75:         try {
76:             this.socketChannel.write(this.reportOffset);
77:         } catch (IOException e) {
78:             log.error(this.getServiceName()
79:                 + "reportSlaveMaxOffset this.socketChannel.write exception", e);
80:             return false;
81:         }
82:     }
83: 
84:     return !this.reportOffset.hasRemaining();
85: }
</code></pre>
    <h3 id="3-1-5-Master" data-id="heading-10"><a href="#3-1-5-Master" title="3.1.5 Master"></a>3.1.5 Master</h3>
    <ul>
        <li><code>ReadSocketService</code> é€»è¾‘åŒ <code>HAClient#processReadEvent(...)</code> åŸºæœ¬ç›¸åŒï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ä»£ç ã€‚</li>
    </ul>
    <pre><code> 1: // â¬‡ï¸â¬‡ï¸â¬‡ï¸ã€ReadSocketService.javaã€‘
 2: private boolean processReadEvent() {
 3:     int readSizeZeroTimes = 0;
 4: 
 5:     // æ¸…ç©ºbyteBufferRead
 6:     if (!this.byteBufferRead.hasRemaining()) {
 7:         this.byteBufferRead.flip();
 8:         this.processPostion = 0;
 9:     }
10: 
11:     while (this.byteBufferRead.hasRemaining()) {
12:         try {
13:             int readSize = this.socketChannel.read(this.byteBufferRead);
14:             if (readSize &gt; 0) {
15:                 readSizeZeroTimes = 0;
16: 
17:                 // è®¾ç½®æœ€åè¯»å–æ—¶é—´
18:                 this.lastReadTimestamp = HAConnection.this.haService.getDefaultMessageStore().getSystemClock().now();
19: 
20:                 if ((this.byteBufferRead.position() - this.processPostion) &gt;= 8) {
21:                     // è¯»å–Slave è¯·æ±‚æ¥çš„CommitLogçš„æœ€å¤§ä½ç½®
22:                     int pos = this.byteBufferRead.position() - (this.byteBufferRead.position() % 8);
23:                     long readOffset = this.byteBufferRead.getLong(pos - 8);
24:                     this.processPostion = pos;
25: 
26:                     // è®¾ç½®Slave CommitLogçš„æœ€å¤§ä½ç½®
27:                     HAConnection.this.slaveAckOffset = readOffset;
28: 
29:                     // è®¾ç½®Slave ç¬¬ä¸€æ¬¡è¯·æ±‚çš„ä½ç½®
30:                     if (HAConnection.this.slaveRequestOffset &lt; 0) {
31:                         HAConnection.this.slaveRequestOffset = readOffset;
32:                         log.info("slave[" + HAConnection.this.clientAddr + "] request offset " + readOffset);
33:                     }
34: 
35:                     // é€šçŸ¥ç›®å‰Slaveè¿›åº¦ã€‚ä¸»è¦ç”¨äºMasterèŠ‚ç‚¹ä¸ºåŒæ­¥ç±»å‹çš„ã€‚
36:                     HAConnection.this.haService.notifyTransferSome(HAConnection.this.slaveAckOffset);
37:                 }
38:             } else if (readSize == 0) {
39:                 if (++readSizeZeroTimes &gt;= 3) {
40:                     break;
41:                 }
42:             } else {
43:                 log.error("read socket[" + HAConnection.this.clientAddr + "] &lt; 0");
44:                 return false;
45:             }
46:         } catch (IOException e) {
47:             log.error("processReadEvent exception", e);
48:             return false;
49:         }
50:     }
51: 
52:     return true;
53: }
</code></pre>
    <hr>
    <ul>
        <li><code>WriteSocketService</code> è®¡ç®— <code>Slave</code>å¼€å§‹åŒæ­¥çš„ä½ç½®åï¼Œä¸æ–­å‘ <code>Slave</code> ä¼ è¾“æ–°çš„ <code>CommitLog</code>æ•°æ®ã€‚</li>
    </ul>
    <p><img alt="HA.WriteSocketServiceæµç¨‹å›¾" class="lazyload inited" data-src="https://user-gold-cdn.xitu.io/2018/10/23/1669dcb5ddd86d34?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="659" src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;659&quot;&gt;&lt;/svg&gt;"></p>
    <pre><code>  1: // â¬‡ï¸â¬‡ï¸â¬‡ï¸ã€WriteSocketService.javaã€‘
  2: @Override
  3: public void run() {
  4:     HAConnection.log.info(this.getServiceName() + " service started");
  5: 
  6:     while (!this.isStopped()) {
  7:         try {
  8:             this.selector.select(1000);
  9: 
 10:             // æœªè·å¾—Slaveè¯»å–è¿›åº¦è¯·æ±‚ï¼Œsleepç­‰å¾…ã€‚
 11:             if (-1 == HAConnection.this.slaveRequestOffset) {
 12:                 Thread.sleep(10);
 13:                 continue;
 14:             }
 15: 
 16:             // è®¡ç®—åˆå§‹åŒ–nextTransferFromWhere
 17:             if (-1 == this.nextTransferFromWhere) {
 18:                 if (0 == HAConnection.this.slaveRequestOffset) {
 19:                     long masterOffset = HAConnection.this.haService.getDefaultMessageStore().getCommitLog().getMaxOffset();
 20:                     masterOffset = masterOffset - (masterOffset % HAConnection.this.haService.getDefaultMessageStore().getMessageStoreConfig().getMapedFileSizeCommitLog());
 21:                     if (masterOffset &lt; 0) {
 22:                         masterOffset = 0;
 23:                     }
 24: 
 25:                     this.nextTransferFromWhere = masterOffset;
 26:                 } else {
 27:                     this.nextTransferFromWhere = HAConnection.this.slaveRequestOffset;
 28:                 }
 29: 
 30:                 log.info("master transfer data from " + this.nextTransferFromWhere + " to slave[" + HAConnection.this.clientAddr
 31:                     + "], and slave request " + HAConnection.this.slaveRequestOffset);
 32:             }
 33: 
 34:             if (this.lastWriteOver) {
 35:                 long interval = HAConnection.this.haService.getDefaultMessageStore().getSystemClock().now() - this.lastWriteTimestamp;
 36:                 if (interval &gt; HAConnection.this.haService.getDefaultMessageStore().getMessageStoreConfig().getHaSendHeartbeatInterval()) { // å¿ƒè·³
 37: 
 38:                     // Build Header
 39:                     this.byteBufferHeader.position(0);
 40:                     this.byteBufferHeader.limit(headerSize);
 41:                     this.byteBufferHeader.putLong(this.nextTransferFromWhere);
 42:                     this.byteBufferHeader.putInt(0);
 43:                     this.byteBufferHeader.flip();
 44: 
 45:                     this.lastWriteOver = this.transferData();
 46:                     if (!this.lastWriteOver)
 47:                         continue;
 48:                 }
 49:             } else { // æœªä¼ è¾“å®Œæˆï¼Œç»§ç»­ä¼ è¾“
 50:                 this.lastWriteOver = this.transferData();
 51:                 if (!this.lastWriteOver)
 52:                     continue;
 53:             }
 54: 
 55:             // é€‰æ‹©æ–°çš„CommitLogæ•°æ®è¿›è¡Œä¼ è¾“
 56:             SelectMappedBufferResult selectResult =
 57:                 HAConnection.this.haService.getDefaultMessageStore().getCommitLogData(this.nextTransferFromWhere);
 58:             if (selectResult != null) {
 59:                 int size = selectResult.getSize();
 60:                 if (size &gt; HAConnection.this.haService.getDefaultMessageStore().getMessageStoreConfig().getHaTransferBatchSize()) {
 61:                     size = HAConnection.this.haService.getDefaultMessageStore().getMessageStoreConfig().getHaTransferBatchSize();
 62:                 }
 63: 
 64:                 long thisOffset = this.nextTransferFromWhere;
 65:                 this.nextTransferFromWhere += size;
 66: 
 67:                 selectResult.getByteBuffer().limit(size);
 68:                 this.selectMappedBufferResult = selectResult;
 69: 
 70:                 // Build Header
 71:                 this.byteBufferHeader.position(0);
 72:                 this.byteBufferHeader.limit(headerSize);
 73:                 this.byteBufferHeader.putLong(thisOffset);
 74:                 this.byteBufferHeader.putInt(size);
 75:                 this.byteBufferHeader.flip();
 76: 
 77:                 this.lastWriteOver = this.transferData();
 78:             } else { // æ²¡æ–°çš„æ¶ˆæ¯ï¼ŒæŒ‚èµ·ç­‰å¾…
 79:                 HAConnection.this.haService.getWaitNotifyObject().allWaitForRunning(100);
 80:             }
 81:         } catch (Exception e) {
 82: 
 83:             HAConnection.log.error(this.getServiceName() + " service has exception.", e);
 84:             break;
 85:         }
 86:     }
 87: 
 88:     // æ–­å¼€è¿æ¥ &amp; æš‚åœå†™çº¿ç¨‹ &amp; æš‚åœè¯»çº¿ç¨‹ &amp; é‡Šæ”¾CommitLog
 89:     if (this.selectMappedBufferResult != null) {
 90:         this.selectMappedBufferResult.release();
 91:     }
 92: 
 93:     this.makeStop();
 94: 
 95:     readSocketService.makeStop();
 96: 
 97:     haService.removeConnection(HAConnection.this);
 98: 
 99:     SelectionKey sk = this.socketChannel.keyFor(this.selector);
100:     if (sk != null) {
101:         sk.cancel();
102:     }
103: 
104:     try {
105:         this.selector.close();
106:         this.socketChannel.close();
107:     } catch (IOException e) {
108:         HAConnection.log.error("", e);
109:     }
110: 
111:     HAConnection.log.info(this.getServiceName() + " service end");
112: }
113: 
114: /**
115:  * ä¼ è¾“æ•°æ®
116:  */
117: private boolean transferData() throws Exception {
118:     int writeSizeZeroTimes = 0;
119:     // Write Header
120:     while (this.byteBufferHeader.hasRemaining()) {
121:         int writeSize = this.socketChannel.write(this.byteBufferHeader);
122:         if (writeSize &gt; 0) {
123:             writeSizeZeroTimes = 0;
124:             this.lastWriteTimestamp = HAConnection.this.haService.getDefaultMessageStore().getSystemClock().now();
125:         } else if (writeSize == 0) {
126:             if (++writeSizeZeroTimes &gt;= 3) {
127:                 break;
128:             }
129:         } else {
130:             throw new Exception("ha master write header error &lt; 0");
131:         }
132:     }
133: 
134:     if (null == this.selectMappedBufferResult) {
135:         return !this.byteBufferHeader.hasRemaining();
136:     }
137: 
138:     writeSizeZeroTimes = 0;
139: 
140:     // Write Body
141:     if (!this.byteBufferHeader.hasRemaining()) {
142:         while (this.selectMappedBufferResult.getByteBuffer().hasRemaining()) {
143:             int writeSize = this.socketChannel.write(this.selectMappedBufferResult.getByteBuffer());
144:             if (writeSize &gt; 0) {
145:                 writeSizeZeroTimes = 0;
146:                 this.lastWriteTimestamp = HAConnection.this.haService.getDefaultMessageStore().getSystemClock().now();
147:             } else if (writeSize == 0) {
148:                 if (++writeSizeZeroTimes &gt;= 3) {
149:                     break;
150:                 }
151:             } else {
152:                 throw new Exception("ha master write body error &lt; 0");
153:             }
154:         }
155:     }
156: 
157:     boolean result = !this.byteBufferHeader.hasRemaining() &amp;&amp; !this.selectMappedBufferResult.getByteBuffer().hasRemaining();
158: 
159:     if (!this.selectMappedBufferResult.getByteBuffer().hasRemaining()) {
160:         this.selectMappedBufferResult.release();
161:         this.selectMappedBufferResult = null;
162:     }
163: 
164:     return result;
165: }
</code></pre>
    <h3 id="3-1-6-Master-SYNC" data-id="heading-11"><a href="#3-1-6-Master-SYNC" title="3.1.6 Master_SYNC"></a>3.1.6 Master_SYNC</h3>
    <ul>
        <li><code>Producer</code> å‘é€æ¶ˆæ¯æ—¶ï¼Œ<code>Master_SYNC</code>èŠ‚ç‚¹ ä¼šç­‰å¾… <code>Slave</code>èŠ‚ç‚¹ å­˜å‚¨å®Œæ¯•åå†è¿”å›å‘é€ç»“æœã€‚</li>
    </ul>
    <p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
    <pre><code> 1: // â¬‡ï¸â¬‡ï¸â¬‡ï¸ã€CommitLog.javaã€‘
 2: public PutMessageResult putMessage(final MessageExtBrokerInner msg) {
 3:     // ....çœç•¥å¤„ç†å‘é€ä»£ç  
 4:     // Synchronous write double å¦‚æœæ˜¯åŒæ­¥Masterï¼ŒåŒæ­¥åˆ°ä»èŠ‚ç‚¹
 5:     if (BrokerRole.SYNC_MASTER == this.defaultMessageStore.getMessageStoreConfig().getBrokerRole()) {
 6:         HAService service = this.defaultMessageStore.getHaService();
 7:         if (msg.isWaitStoreMsgOK()) {
 8:             // Determine whether to wait
 9:             if (service.isSlaveOK(result.getWroteOffset() + result.getWroteBytes())) {
10:                 if (null == request) {
11:                     request = new GroupCommitRequest(result.getWroteOffset() + result.getWroteBytes());
12:                 }
13:                 service.putRequest(request);
14: 
15:                 // å”¤é†’WriteSocketService
16:                 service.getWaitNotifyObject().wakeupAll();
17: 
18:                 boolean flushOK = request.waitForFlush(this.defaultMessageStore.getMessageStoreConfig().getSyncFlushTimeout());
19:                 if (!flushOK) {
20:                     log.error("do sync transfer other node, wait return, but failed, topic: " + msg.getTopic() + " tags: "
21:                         + msg.getTags() + " client address: " + msg.getBornHostString());
22:                     putMessageResult.setPutMessageStatus(PutMessageStatus.FLUSH_SLAVE_TIMEOUT);
23:                 }
24:             }
25:             // Slave problem
26:             else {
27:                 // Tell the producer, slave not available
28:                 putMessageResult.setPutMessageStatus(PutMessageStatus.SLAVE_NOT_AVAILABLE);
29:             }
30:         }
31:     }
32: 
33:     return putMessageResult;
34: }
</code></pre>
    <ul>
        <li>ç¬¬ 16 è¡Œ ï¼šå”¤é†’ <code>WriteSocketService</code>ã€‚
            <ul>
                <li>å”¤é†’åï¼Œ<code>WriteSocketService</code> æŒ‚èµ·ç­‰å¾…æ–°æ¶ˆæ¯ç»“æŸï¼Œ<code>Master</code> ä¼ è¾“ <code>Slave</code> æ–°çš„ <code>CommitLog</code> æ•°æ®ã€‚</li>
                <li><code>Slave</code> æ”¶åˆ°æ•°æ®åï¼Œ<strong>ç«‹å³</strong>ä¸ŠæŠ¥æœ€æ–°çš„ <code>CommitLog</code> åŒæ­¥è¿›åº¦åˆ° <code>Master</code>ã€‚<code>ReadSocketService</code> å”¤é†’<strong>ç¬¬ 18 è¡Œ</strong>ï¼š<code>request#waitForFlush(...)</code>ã€‚</li>
            </ul>
        </li>
    </ul>
    <p>æˆ‘ä»¬æ¥çœ‹ä¸‹ <code>GroupTransferService</code> çš„æ ¸å¿ƒé€»è¾‘ä»£ç ï¼š</p>
    <pre><code> 1: // â¬‡ï¸â¬‡ï¸â¬‡ï¸ã€GroupTransferService.javaã€‘
 2: private void doWaitTransfer() {
 3:     synchronized (this.requestsRead) {
 4:         if (!this.requestsRead.isEmpty()) {
 5:             for (CommitLog.GroupCommitRequest req : this.requestsRead) {
 6:                 // ç­‰å¾…Slaveä¸Šä¼ è¿›åº¦
 7:                 boolean transferOK = HAService.this.push2SlaveMaxOffset.get() &gt;= req.getNextOffset();
 8:                 for (int i = 0; !transferOK &amp;&amp; i &lt; 5; i++) {
 9:                     this.notifyTransferObject.waitForRunning(1000); // å”¤é†’
10:                     transferOK = HAService.this.push2SlaveMaxOffset.get() &gt;= req.getNextOffset();
11:                 }
12: 
13:                 if (!transferOK) {
14:                     log.warn("transfer messsage to slave timeout, " + req.getNextOffset());
15:                 }
16: 
17:                 // å”¤é†’è¯·æ±‚ï¼Œå¹¶è®¾ç½®æ˜¯å¦SlaveåŒæ­¥æˆåŠŸ
18:                 req.wakeupCustomer(transferOK);
19:             }
20: 
21:             this.requestsRead.clear();
22:         }
23:     }
24: }
</code></pre>
    <h2 id="3-2-Producer-å‘é€æ¶ˆæ¯" data-id="heading-12"><a href="#3-2-Producer-å‘é€æ¶ˆæ¯" title="3.2 Producer å‘é€æ¶ˆæ¯"></a>3.2 Producer å‘é€æ¶ˆæ¯</h2>
    <ul>
        <li><code>Producer</code> å‘é€æ¶ˆæ¯æ—¶ï¼Œä¼šå¯¹ <code>Broker</code>é›†ç¾¤ çš„æ‰€æœ‰é˜Ÿåˆ—è¿›è¡Œé€‰æ‹©ã€‚</li>
    </ul>
    <p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
    <pre><code> 1: // â¬‡ï¸â¬‡ï¸â¬‡ï¸ã€DefaultMQProducerImpl.javaã€‘
 2: private SendResult sendDefaultImpl(//
 3:     Message msg, //
 4:     final CommunicationMode communicationMode, //
 5:     final SendCallback sendCallback, //
 6:     final long timeout//
 7: ) throws MQClientException, RemotingException, MQBrokerException, InterruptedException {
 8:     // .... çœç•¥ï¼šå¤„ç†ã€æ ¡éªŒé€»è¾‘ã€‘
 9:     // è·å– Topicè·¯ç”±ä¿¡æ¯
10:     TopicPublishInfo topicPublishInfo = this.tryToFindTopicPublishInfo(msg.getTopic());
11:     if (topicPublishInfo != null &amp;&amp; topicPublishInfo.ok()) {
12:         MessageQueue mq = null; // æœ€åé€‰æ‹©æ¶ˆæ¯è¦å‘é€åˆ°çš„é˜Ÿåˆ—
13:         Exception exception = null;
14:         SendResult sendResult = null; // æœ€åä¸€æ¬¡å‘é€ç»“æœ
15:         int timesTotal = communicationMode == CommunicationMode.SYNC ? 1 + this.defaultMQProducer.getRetryTimesWhenSendFailed() : 1; // åŒæ­¥å¤šæ¬¡è°ƒç”¨
16:         int times = 0; // ç¬¬å‡ æ¬¡å‘é€
17:         String[] brokersSent = new String[timesTotal]; // å­˜å‚¨æ¯æ¬¡å‘é€æ¶ˆæ¯é€‰æ‹©çš„brokerå
18:         // å¾ªç¯è°ƒç”¨å‘é€æ¶ˆæ¯ï¼Œç›´åˆ°æˆåŠŸ
19:         for (; times &lt; timesTotal; times++) {
20:             String lastBrokerName = null == mq ? null : mq.getBrokerName();
21:             MessageQueue tmpmq = this.selectOneMessageQueue(topicPublishInfo, lastBrokerName); // é€‰æ‹©æ¶ˆæ¯è¦å‘é€åˆ°çš„é˜Ÿåˆ—
22:             if (tmpmq != null) {
23:                 mq = tmpmq;
24:                 brokersSent[times] = mq.getBrokerName();
25:                 try {
26:                     beginTimestampPrev = System.currentTimeMillis();
27:                     // è°ƒç”¨å‘é€æ¶ˆæ¯æ ¸å¿ƒæ–¹æ³•
28:                     sendResult = this.sendKernelImpl(msg, mq, communicationMode, sendCallback, topicPublishInfo, timeout);
29:                     endTimestamp = System.currentTimeMillis();
30:                     // æ›´æ–°Brokerå¯ç”¨æ€§ä¿¡æ¯
31:                     this.updateFaultItem(mq.getBrokerName(), endTimestamp - beginTimestampPrev, false);
32:                     // .... çœç•¥ï¼šå¤„ç†ã€å‘é€è¿”å›ç»“æœã€‘
33:                     }
34:                 } catch (e) { // .... çœç•¥ï¼šå¤„ç†ã€å¼‚å¸¸ã€‘
35:                     
36:                 }
37:             } else {
38:                 break;
39:             }
40:         }
41:         // .... çœç•¥ï¼šå¤„ç†ã€å‘é€è¿”å›ç»“æœã€‘
42:     }
43:     // .... çœç•¥ï¼šå¤„ç†ã€æ‰¾ä¸åˆ°æ¶ˆæ¯è·¯ç”±ã€‘
44: }
</code></pre>
    <p>å¦‚ä¸‹æ˜¯è°ƒè¯• <code>#sendDefaultImpl(...)</code> æ—¶ <code>TopicPublishInfo</code> çš„ç»“æœï¼Œ<code>Producer</code> è·å¾—åˆ°äº† <code>broker-a</code>,<code>broker-b</code> ä¸¤ä¸ª <code>Broker</code>åˆ†ç»„ çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼š<br><img alt="Producer.TopicPublishInfo.è°ƒè¯•.png" class="lazyload inited" data-src="https://user-gold-cdn.xitu.io/2018/10/23/1669dcb5dee8ffa6?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="347" src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;347&quot;&gt;&lt;/svg&gt;"></p>
    <h2 id="3-3-Consumer-æ¶ˆè´¹æ¶ˆæ¯" data-id="heading-13"><a href="#3-3-Consumer-æ¶ˆè´¹æ¶ˆæ¯" title="3.3 Consumer æ¶ˆè´¹æ¶ˆæ¯"></a>3.3 Consumer æ¶ˆè´¹æ¶ˆæ¯</h2>
    <ul>
        <li><code>Consumer</code> æ¶ˆè´¹æ¶ˆæ¯æ—¶ï¼Œä¼šå¯¹ <code>Broker</code>é›†ç¾¤ çš„æ‰€æœ‰é˜Ÿåˆ—è¿›è¡Œé€‰æ‹©ã€‚</li>
    </ul>
    <h1 id="4-æ€»ç»“" data-id="heading-14"><a href="#4-æ€»ç»“" title="4. æ€»ç»“"></a>4. æ€»ç»“</h1>
    <p><img alt="HAæ€»ç»“.jpeg" class="lazyload inited" data-src="https://user-gold-cdn.xitu.io/2018/10/23/1669dcb7402c613e?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="960" src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;1280&quot; height=&quot;960&quot;&gt;&lt;/svg&gt;"></p>
    <h1 id="666-å½©è›‹" data-id="heading-15"><a href="#666-å½©è›‹" title="666. å½©è›‹"></a>666. å½©è›‹</h1>
    <p><img alt="çŸ¥è¯†æ˜Ÿçƒ" class="lazyload inited" data-src="https://user-gold-cdn.xitu.io/2018/10/18/166840b9e1e4b9c1?imageView2/0/w/1280/h/960/ignore-error/1" data-width="987" data-height="555" src="data:image/svg+xml;utf8,&lt;?xml version=&quot;1.0&quot;?&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; width=&quot;987&quot; height=&quot;555&quot;&gt;&lt;/svg&gt;"></p>
</div><div data-v-41d33d72="" class="footer"><ul data-v-41d33d72="" class="tag-list"><li data-v-41d33d72="" class="item"><a data-v-41d33d72="" href="/tag/Java" class="">Java</a></li></ul><section data-v-41d33d72=""><div data-v-a0f279e6="" data-v-41d33d72="" class="wechat-banner wechat-banner"><img data-v-a0f279e6="" src="https://b-gold-cdn.xitu.io/v3/static/img/backend.58ef824.png" class="wechat-img"></div></section><!----><div data-v-41d33d72="" class="related-entry-list-box"><div data-v-41d33d72="" class="title">ç›¸å…³çƒ­é—¨æ–‡ç« </div><ul data-v-41d33d72="" class="related-entry-list"><li data-v-41d33d72="" class="item"><div data-v-9db545a6="" data-v-41d33d72="" st:block="relatedEntry" class="related-entry related-entry"><a data-v-9db545a6="" href="/post/5bce7e3bf265da0aeb71400a" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-b2db8566="" data-v-009ea7bb="" data-v-9db545a6="" data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAACgBAMAAACPjaivAAAAElBMVEXi6O3////R3ujj6e/c5u3X4usQB3wbAAABCElEQVR42u3Vy03FQBBE0U6BDBCfPSEQAvlHw44FmvaoEbJLz+dGcORWeUqSJEmSJEmS/trTphoGCAi4CRAQcNMtgfUrQMDjbjgSQMBJgIDTjgyAj3JiQMBJtwTG/2bigfEnBgScdEtg/G8mHhh/YkDASYCAgJsAAQE3AQICbgIEBNwECPgvwJef3mrY2cCvGnY28KOGnQx8rcs7Btb1LYE5E2mAORNpgEEXXgNzJtIAgz7gGpgzkQaYM5EGmPKKtMCciRwBPyuiFvheGS2BQRdeA3Mm0gOfK6QlMGciDTBnIg0w6MJrYM5EGmDQB1wDcybSAHMm0gBTXpEWmDMRSZIkSZIk6cK+AUdTxLnCoi0gAAAAAElFTkSuQmCC" class="lazy thumb thumb loaded" style="background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAACgBAMAAACPjaivAAAAElBMVEXi6O3////R3ujj6e/c5u3X4usQB3wbAAABCElEQVR42u3Vy03FQBBE0U6BDBCfPSEQAvlHw44FmvaoEbJLz+dGcORWeUqSJEmSJEmS/trTphoGCAi4CRAQcNMtgfUrQMDjbjgSQMBJgIDTjgyAj3JiQMBJtwTG/2bigfEnBgScdEtg/G8mHhh/YkDASYCAgJsAAQE3AQICbgIEBNwECPgvwJef3mrY2cCvGnY28KOGnQx8rcs7Btb1LYE5E2mAORNpgEEXXgNzJtIAgz7gGpgzkQaYM5EGmPKKtMCciRwBPyuiFvheGS2BQRdeA3Mm0gOfK6QlMGciDTBnIg0w6MJrYM5EGmDQB1wDcybSAHMm0gBTXpEWmDMRSZIkSZIk6cK+AUdTxLnCoi0gAAAAAElFTkSuQmCC); background-size: cover;"></div><div data-v-9db545a6="" class="info"><div data-v-9db545a6="" class="row title-row"><span data-v-9db545a6="" class="title">ç»“æŸäº†æˆ‘çŸ­æš‚çš„ç§‹æ‹›ï¼Œè¯´ç‚¹è‡ªå·±çš„æ„Ÿå—</span></div><div data-v-9db545a6="" class="row meta-row"><ul data-v-9db545a6="" class="meta-list"><li data-v-9db545a6="" class="meta user"><div data-v-9db545a6="" class="username">SnailClimb</div></li><li data-v-9db545a6="" class="meta like"><div data-v-9db545a6="" class="icon icon-likes iconfont icon-xlcollection"></div><div data-v-9db545a6="" class="count">5</div></li><li data-v-9db545a6="" class="meta comment"><div data-v-9db545a6="" class="icon icon-comments iconfont icon-xlchatbox"></div><div data-v-9db545a6="" class="count">1</div></li></ul></div></div></a></div></li><li data-v-41d33d72="" class="item"><div data-v-9db545a6="" data-v-41d33d72="" st:block="relatedEntry" class="related-entry related-entry"><a data-v-9db545a6="" href="/post/5bce68226fb9a05ce46a0476" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-b2db8566="" data-v-009ea7bb="" data-v-9db545a6="" data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAACgBAMAAACPjaivAAAAElBMVEXi6O3////R3ujj6e/c5u3X4usQB3wbAAABCElEQVR42u3Vy03FQBBE0U6BDBCfPSEQAvlHw44FmvaoEbJLz+dGcORWeUqSJEmSJEmS/trTphoGCAi4CRAQcNMtgfUrQMDjbjgSQMBJgIDTjgyAj3JiQMBJtwTG/2bigfEnBgScdEtg/G8mHhh/YkDASYCAgJsAAQE3AQICbgIEBNwECPgvwJef3mrY2cCvGnY28KOGnQx8rcs7Btb1LYE5E2mAORNpgEEXXgNzJtIAgz7gGpgzkQaYM5EGmPKKtMCciRwBPyuiFvheGS2BQRdeA3Mm0gOfK6QlMGciDTBnIg0w6MJrYM5EGmDQB1wDcybSAHMm0gBTXpEWmDMRSZIkSZIk6cK+AUdTxLnCoi0gAAAAAElFTkSuQmCC" class="lazy thumb thumb loaded" style="background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAACgBAMAAACPjaivAAAAElBMVEXi6O3////R3ujj6e/c5u3X4usQB3wbAAABCElEQVR42u3Vy03FQBBE0U6BDBCfPSEQAvlHw44FmvaoEbJLz+dGcORWeUqSJEmSJEmS/trTphoGCAi4CRAQcNMtgfUrQMDjbjgSQMBJgIDTjgyAj3JiQMBJtwTG/2bigfEnBgScdEtg/G8mHhh/YkDASYCAgJsAAQE3AQICbgIEBNwECPgvwJef3mrY2cCvGnY28KOGnQx8rcs7Btb1LYE5E2mAORNpgEEXXgNzJtIAgz7gGpgzkQaYM5EGmPKKtMCciRwBPyuiFvheGS2BQRdeA3Mm0gOfK6QlMGciDTBnIg0w6MJrYM5EGmDQB1wDcybSAHMm0gBTXpEWmDMRSZIkSZIk6cK+AUdTxLnCoi0gAAAAAElFTkSuQmCC); background-size: cover;"></div><div data-v-9db545a6="" class="info"><div data-v-9db545a6="" class="row title-row"><span data-v-9db545a6="" class="title">è¿™ä¸€æ¬¡ï¼Œå½»åº•è§£å†³Javaçš„å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’</span></div><div data-v-9db545a6="" class="row meta-row"><ul data-v-9db545a6="" class="meta-list"><li data-v-9db545a6="" class="meta user"><div data-v-9db545a6="" class="username">é¡¾å®¶è¿›</div></li><li data-v-9db545a6="" class="meta like"><div data-v-9db545a6="" class="icon icon-likes iconfont icon-xlcollection"></div><div data-v-9db545a6="" class="count">2</div></li><li data-v-9db545a6="" class="meta comment"><div data-v-9db545a6="" class="icon icon-comments iconfont icon-xlchatbox"></div><div data-v-9db545a6="" class="count">1</div></li></ul></div></div></a></div></li><li data-v-41d33d72="" class="item"><div data-v-9db545a6="" data-v-41d33d72="" st:block="relatedEntry" class="related-entry related-entry"><a data-v-9db545a6="" href="/entry/5bce81f9518825777f0938bf/detail" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-b2db8566="" data-v-009ea7bb="" data-v-9db545a6="" data-src="https://user-gold-cdn.xitu.io/2018/10/23/1669eabb152053ee?imageView2/1/q/85/interlace/1" class="lazy thumb thumb loaded" style="background-image: url(https://user-gold-cdn.xitu.io/2018/10/23/1669eabb152053ee?imageView2/1/q/85/interlace/1); background-size: cover;"></div><div data-v-9db545a6="" class="info"><div data-v-9db545a6="" class="row title-row"><span data-v-9db545a6="" class="title">Javaï¼šå…³äºStaticé™æ€å…³é”®å­—çš„é‚£äº›å°äº‹</span></div><div data-v-9db545a6="" class="row meta-row"><ul data-v-9db545a6="" class="meta-list"><li data-v-9db545a6="" class="meta user"><div data-v-9db545a6="" class="username">Carson_Ho</div></li><li data-v-9db545a6="" class="meta like"><div data-v-9db545a6="" class="icon icon-likes iconfont icon-xlcollection"></div><div data-v-9db545a6="" class="count">1</div></li><!----></ul></div></div></a></div></li><li data-v-41d33d72="" class="item"><div data-v-9db545a6="" data-v-41d33d72="" st:block="relatedEntry" class="related-entry related-entry"><a data-v-9db545a6="" href="/entry/5bce80286fb9a05d32518bd9/detail" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-b2db8566="" data-v-009ea7bb="" data-v-9db545a6="" data-src="https://user-gold-cdn.xitu.io/2018/10/23/1669ea49322e75b4?imageView2/1/q/85/interlace/1" class="lazy thumb thumb loaded" style="background-image: url(https://user-gold-cdn.xitu.io/2018/10/23/1669ea49322e75b4?imageView2/1/q/85/interlace/1); background-size: cover;"></div><div data-v-9db545a6="" class="info"><div data-v-9db545a6="" class="row title-row"><span data-v-9db545a6="" class="title">JVMï¼šé‚£äº›åƒåœ¾æ”¶é›†å™¨ä½ äº†è§£å—</span></div><div data-v-9db545a6="" class="row meta-row"><ul data-v-9db545a6="" class="meta-list"><li data-v-9db545a6="" class="meta user"><div data-v-9db545a6="" class="username">Carson_Ho</div></li><li data-v-9db545a6="" class="meta like"><div data-v-9db545a6="" class="icon icon-likes iconfont icon-xlcollection"></div><div data-v-9db545a6="" class="count">2</div></li><!----></ul></div></div></a></div></li></ul></div></div></article><div data-v-4f97d566="" data-v-41d33d72="" class="comment-list-box" id="comment-box" data-v-3f216172=""><div data-v-4f97d566="" class="title">è¯„è®º</div><div data-v-1cbbd4f0="" data-v-4f97d566="" class="comment-form comment-form"><div data-v-1cbbd4f0="" class="avatar-box"><div data-v-b2db8566="" data-v-1b9df826="" data-v-1cbbd4f0="" data-src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjM2cHgiIGhlaWdodD0iMzZweCIgdmlld0JveD0iMCAwIDM2IDM2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnNrZXRjaD0iaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggMy4zLjMgKDEyMDgxKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5kZWZhdWx0X2dyYXZhdGFyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc2tldGNoOnR5cGU9Ik1TUGFnZSI+CiAgICAgICAgPGcgaWQ9ImRlZmF1bHRfZ3JhdmF0YXIiIHNrZXRjaDp0eXBlPSJNU0FydGJvYXJkR3JvdXAiPgogICAgICAgICAgICA8ZyBpZD0iUmVjdGFuZ2xlLTIxMC0rLUltcG9ydGVkLUxheWVycy1Db3B5LUNvcHkiIHNrZXRjaDp0eXBlPSJNU0xheWVyR3JvdXAiPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0yMTAiIGZpbGw9IiNEOEQ4RDgiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiIHg9IjAiIHk9IjAiIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTI3Ljg2OTAzMjEsMjYuODUzNjU2OCBMOCwyNi44NTM2NTY4IEM4LDI1Ljg0OTQ1MTQgOC40NzE4MjUsMjQuMTEwOTQ2NiAxMS41MTg5MDQ1LDIyLjM4ODMxNzYgQzEyLjE1Nzg5NiwyMi4wMjcxMjEzIDE1LjM0Mzk1MTIsMjAuMDk2MTA5OCAxNS42MTU5Njc3LDE5LjYzNzE3MjEgQzE1LjkyNDU4MjgsMTkuMTE3MjA4MSAxNi4wMTA2Mzg5LDE4LjQ3NjE4MzcgMTUuNDIwMTE1OCwxNy41MzI1MDg1IEMxNS4zNzI2MzY2LDE3LjQ1NjEwMTYgMTQuNDM0OTIxNSwxNi4wMDgzMzkxIDE0LjE0NTEwMDMsMTUuMDMwNDI5NyBDMTMuOTQwMzQ2LDE0LjMzODMwMiAxMy45MTc1OTU1LDEzLjU0NTQ1NjEgMTMuOTE3NTk1NSwxMi43MTM0MTQ0IEMxMy45MTc1OTU1LDkuODM2MjQ3MDIgMTUuNzIyMzAxNCw4IDE3Ljk0ODM4NTYsOCBDMjAuMTc0NDY5OSw4IDIxLjk3OTE3NTgsOS44MzYyNDcwMiAyMS45NzkxNzU4LDEyLjcxMzQxNDQgQzIxLjk3OTE3NTgsMTMuMzk5MDkyMiAyMS45NjYzMTY4LDE0LjA1NTk5MzMgMjEuODQ3MTI0MSwxNC42NTM4NTI3IEMyMS42Mzk4OTcsMTUuNjkwMzA3NyAyMC43NzU4NzM2LDE3LjAwNTU5ODQgMjAuNTg4NDI5NSwxNy4zMzA1NzU5IEMyMC41NDM5MTc3LDE3LjQwNzQ3OSAyMC41MDc4MTM3LDE3LjQ2NzUxMyAyMC40ODUwNjMzLDE3LjUwMTI1MTEgQzIwLjA3OTAxNjgsMTguMTA3MDQ4OSAxOS45NjI3OTE2LDE4LjU1MzU4MjkgMjAuMDAwODczOSwxOC45MTUyNzU1IEMyMC4wNDQzOTY1LDE5LjMyODU2NzUgMjAuMzEzOTQwMSwxOS42MTYzMzM4IDIwLjY2NzA2NywxOS44NTQ0ODUzIEMyMS4wMzQ1MzY2LDIwLjEwMjA2MzYgMjQuMDExODgxLDIyLjE0OTY3IDI0LjM3Nzg2NjgsMjIuMzg4MzE3NiBDMjYuODcxNTE2MywyNC4wMTY2NzgzIDI3Ljg2OTAzMjEsMjUuNjA2MzM4NSAyNy44NjkwMzIxLDI2Ljg1MzY1NjggTDI3Ljg2OTAzMjEsMjYuODUzNjU2OCBaIiBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIGZpbGw9IiNGRkZGRkYiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+" class="lazy avatar avatar" title="" style="background-image: none;"></div></div><div data-v-1cbbd4f0="" class="form-box"><div data-v-1cbbd4f0="" class="input-box"><div data-v-1cbbd4f0="" contenteditable="true" spellcheck="false" placeholder="è¾“å…¥è¯„è®º..." class="rich-input empty"><br data-v-1cbbd4f0=""></div><!----></div><!----></div><input data-v-1cbbd4f0="" type="file" class="hidden"></div><!----><!----></div></div><div data-v-41d33d72="" data-v-3f216172="" st:block="aside" class="entry-public-aside"><div data-v-70a2cd6d="" data-v-fb64097a="" data-v-41d33d72="" class="sidebar-block app-download-sidebar-block shadow"><!----><div data-v-70a2cd6d="" class="block-body"><a data-v-fb64097a="" data-v-70a2cd6d="" class="app-link" href="https://juejin.im/app" target="_blank"><img data-v-fb64097a="" data-v-70a2cd6d="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAEx0lEQVR4Xu2c7XbbMAxD0zffm2cna7NlbuwLkJJjN+hfUiQF8ENS0nxcr9frJX+HQeDjRsjHr/3juT74fOb/Ub6MTomX7C9tdv2NQjCEfCEZQlIhT4sqFZIK+UTA7fFuj+7a7653473rr1bIVk91ndHQVob01hAm+xQvrSc52Sf5o/0QcrlcCHCSE+AkDyELhAhwkhPgJLcJmd1SKvZpk26Lc/W7M2ZtvdSyKoBRwM6Mqvh3AXb1aX+UMCEE7j0hxHiuSYUMuCdQSe/dsqiFpEKaFdJ9e+omBCUcJcCPmyEhhChfyCmDRmboMjRl5oz0r/hTW+Ihjr2VDakbVPPIrThKOPJ76Ja1ByEEYAgx7wXVjLuvCyHGB1CpkH/p9jYz5EdVCLULktNrKcmVU5RzaqJ49/Znv/a6G3A3FELMlhVCviMwsiKlCumSQOudnl4Z+l37tJ72V5Wf4lsn1NJeIa8CTutCSPEzdQK2Kg8hIeQzd6hHk5wykNZ35eS/Kv9TIdXFo9ZVZgD5HnkKIl8j5SFkJJoDbIWQASCONFEe6u5z9TJo6uEjN/nMVjd+iq9q/7SEVDd8B7K7PoQsEOgC2l0fQkLIdg6cfQbsHb/q7+kpS3nMUx0869mK/dEtwW1Ro/en2gshg55OCHCS3xMwhLwrIdSCunLKQJLP9q/aH1IhS2fKjCCAOj2fNj/77ayz/xDyxR4lCJHsrl/TDyEh5BOBURmlHqvJH8mpQlz5rhXiBuf2XLJPM6KyntaQXP18ZkrLouC6hwCyH0IIIZCnQv4BNKRCFECXnLg929Xf8kf5U9kP2VSP8UM+MaxswAXY1e8QMrulbtkPIZTaK08rswgPIWckhE4tZ29ZI/anHmtv/G/hJVUIBaz0XHWoPbvoURK78bnxdu0r/u46IaT4/O5URAhZPM10K2z3CtljBhAorrx7DCZ/s+2v+R/yvSzKoArhrwbMnXkUr3oxDiErSIYQM8Vmt5QQYhIyW31Pwr/90+fszbn2R8wcAtQ5tirxOPa28JDuIS6gXX0FAPIRQgghQ/72hCgAUMapxzqDl6mq7n7cYNxDwV1fPva6G3D1XULdDbv2XQK27CtPJyFk8O91hZCNXzWd0YLdinEr+O0rxAXY1a+27EMce+ktzAVDqRCy6dwrKH5HHkIKb1nOkL7phhDjV7PXKuWlFTKixKkFuMdOtwe7+hQv2SN51b58DyEHrrybgc4xU2kxeybMVjwhRJghzgyotMBvr72vbllUXUp8Myvu7QhRACfSqKeTfM+Whd/LogwgMEhO9iuEVG/Ca8fQ0TPJje/uX/plawKc5CHkf4RSIc1/oesmnHPKkyqk21JmVAiB5M4E156rr86wQxDibm5GgrgxuPohZIGYCogLtKqv+k+FqIg29X4UIZUWdbQZovJ5igqpHAq6N/fqPUIFfi1hQojweYVzbA0hBUAVgN+6QiozQh2S1Yx91Qw6RMs6GyEzKyyEiCXktjBX33pcnJHB3ZbTXS/y8FfNBdjVPz0hLqB7608lpLuZ7j1iRoXOHtrOPegxFmmGhBAfgRDSfEwcPZOGE+LnhLeCACC55+312upMOcTXgLozRrkXuDOjmuE3P7SfrXhDSAFAqrcOIb8BQLPhcIRSNNMAAAAASUVORK5CYII=" class="qr-img"><div data-v-fb64097a="" data-v-70a2cd6d="" class="content-box"><div data-v-fb64097a="" data-v-70a2cd6d="" class="headline">ä¸‹è½½æ˜é‡‘å®¢æˆ·ç«¯</div><div data-v-fb64097a="" data-v-70a2cd6d="" class="desc">ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</div></div><!----></a></div></div><div data-v-70a2cd6d="" data-v-1988842d="" data-v-41d33d72="" class="sidebar-block wechat-sidebar-block pure"><div data-v-a0f279e6="" data-v-1988842d="" class="wechat-banner" data-v-70a2cd6d=""><img data-v-a0f279e6="" src="https://b-gold-cdn.xitu.io/v3/static/img/backend.ba44b94.png" class="wechat-img"></div><!----></div><div data-v-1f85cb5f="" data-v-17a8ac96="" data-v-41d33d72="" class="index-book-collect" place="entry" category="5562b419e4b00c57d9b94ae2"><div data-v-1f85cb5f="" class="header"><div data-v-1f85cb5f="" class="title">æ˜é‡‘å°å†Œ</div><div data-v-1f85cb5f="" class="controllers"><div data-v-1f85cb5f="" class="arrow icon ion-chevron-left"></div><div data-v-1f85cb5f="" class="arrow icon ion-chevron-right"></div></div></div><div data-v-1f85cb5f="" class="slide-book transition--next"><div data-v-133abdc5="" data-v-1f85cb5f="" class="slide-book-list item"><a data-v-133abdc5="" href="/book/5b0778756fb9a07aa632301e" class="item"><div data-v-133abdc5="" class="poster"><div data-v-b2db8566="" data-v-009ea7bb="" data-v-133abdc5="" data-src="https://user-gold-cdn.xitu.io/2018/6/26/1643b682a5be1090?imageView2/1/w/104/h/144/q/95/interlace/1" class="lazy thumb poster-img loaded" style="background-image: url(https://user-gold-cdn.xitu.io/2018/6/26/1643b682a5be1090?imageView2/1/w/104/h/144/q/95/interlace/1); background-size: cover;"></div></div><div data-v-133abdc5="" class="content-text"><div data-v-133abdc5="" class="title">åŸºäº Go è¯­è¨€æ„å»ºä¼ä¸šçº§çš„ RESTful API æœåŠ¡</div><div data-v-133abdc5="" class="price"><div data-v-133abdc5="" class="new">æ–°äººä»· ï¿¥19.95</div><div data-v-133abdc5="" class="delete">ï¿¥39.9</div></div></div></a><a data-v-133abdc5="" href="/book/5a36661851882538e2259c0f" class="item"><div data-v-133abdc5="" class="poster"><div data-v-b2db8566="" data-v-009ea7bb="" data-v-133abdc5="" data-src="https://user-gold-cdn.xitu.io/2018/1/16/160fdc404b36a1a0?imageView2/1/w/104/h/144/q/95/interlace/1" class="lazy thumb poster-img loaded" style="background-image: url(https://user-gold-cdn.xitu.io/2018/1/16/160fdc404b36a1a0?imageView2/1/w/104/h/144/q/95/interlace/1); background-size: cover;"></div></div><div data-v-133abdc5="" class="content-text"><div data-v-133abdc5="" class="title">å‰–æ Vue.js å†…éƒ¨è¿è¡Œæœºåˆ¶</div><div data-v-133abdc5="" class="price"><div data-v-133abdc5="" class="new">æ–°äººä»· ï¿¥4.95</div><div data-v-133abdc5="" class="delete">ï¿¥9.9</div></div></div></a></div></div><div data-v-1f85cb5f="" class="book-newuser"><div data-v-1f85cb5f="" class="newuser-title"><span data-v-1f85cb5f="">æ–°äººä¸“äº«å¥½ç¤¼</span></div><div data-v-1f85cb5f="" class="giftbag"><img data-v-1f85cb5f="" src="https://b-gold-cdn.xitu.io/v3/static/img/45.b99ea03.svg"><div data-v-1f85cb5f="" class="content-text"><div data-v-1f85cb5f="" class="title">é€ä½ <span data-v-1f85cb5f="" class="highlight">45å…ƒ</span>ä¹°å°å†Œ</div><div data-v-1f85cb5f="" class="btn-box"><div data-v-1f85cb5f="" class="btn-giftbag">ç«‹å³é¢†å–</div></div></div></div></div></div><!----><div data-v-70a2cd6d="" data-v-f6632f66="" data-v-41d33d72="" class="sidebar-block related-entry-sidebar-block sticky-section shadow" st:block="relatedEntrySidebarBlock" data-v-3f216172=""><div data-v-70a2cd6d="" class="block-title">ç›¸å…³æ–‡ç« </div><div data-v-70a2cd6d="" class="block-body"><div data-v-f6632f66="" data-v-70a2cd6d="" class="entry-list"><a data-v-f6632f66="" href="/post/5bce7e3bf265da0aeb71400a" target="_blank" rel="" st:name="link" class="item" data-v-70a2cd6d=""><div data-v-f6632f66="" class="entry-title">ç»“æŸäº†æˆ‘çŸ­æš‚çš„ç§‹æ‹›ï¼Œè¯´ç‚¹è‡ªå·±çš„æ„Ÿå—</div><div data-v-f6632f66="" class="entry-meta-box"><div data-v-f6632f66="" class="entry-meta"><img data-v-f6632f66="" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik00LjIzNCA2LjY5M3Y3LjI0M0gyLjg4MWMtLjQ4NiAwLS44ODEtLjQ5Mi0uODgxLTEuMDk1VjcuODc1YzAtLjYzLjQxMi0xLjE4Mi44OC0xLjE4MmgxLjM1NHptMy42ODgtMy43QzguMDEgMi40MDQgOC40OSAxLjk5IDkuMDE4IDJjLjc1NC4wMTUgMS4yMDQuNjYzIDEuMzYuOTgzLjI4NC41ODUuMjkyIDEuNTQ5LjA5NyAyLjE2Ny0uMTc3LjU2LS41ODYgMS4yOTYtLjU4NiAxLjI5NmgzLjA2NmMuMzI0IDAgLjYyNS4xNjQuODI2LjQ0OS4yMDQuMjkuMjcuNjY4LjE3OCAxLjAxMWwtMS4zODcgNS4xODNjLS4xMjYuNDk5LS41NDQuODQ3LTEuMDE2Ljg0N0g1LjUzVjYuNjkzYzEuMzg1LS4zMDkgMi4yMzYtMi42MzIgMi4zOTItMy43eiIvPgogICAgPC9nPgo8L3N2Zz4K" class="icon"><span data-v-f6632f66="" class="count">5</span></div><div data-v-f6632f66="" class="entry-meta"><img data-v-f6632f66="" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik0yIDR2OC4wMzhoNC40NDRMMTEuMTExIDE1di0yLjk2MkgxNFY0eiIvPgogICAgPC9nPgo8L3N2Zz4K" class="icon"><span data-v-f6632f66="" class="count">1</span></div></div></a><a data-v-f6632f66="" href="/post/5bce68226fb9a05ce46a0476" target="_blank" rel="" st:name="link" class="item" data-v-70a2cd6d=""><div data-v-f6632f66="" class="entry-title">è¿™ä¸€æ¬¡ï¼Œå½»åº•è§£å†³Javaçš„å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’</div><div data-v-f6632f66="" class="entry-meta-box"><div data-v-f6632f66="" class="entry-meta"><img data-v-f6632f66="" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik00LjIzNCA2LjY5M3Y3LjI0M0gyLjg4MWMtLjQ4NiAwLS44ODEtLjQ5Mi0uODgxLTEuMDk1VjcuODc1YzAtLjYzLjQxMi0xLjE4Mi44OC0xLjE4MmgxLjM1NHptMy42ODgtMy43QzguMDEgMi40MDQgOC40OSAxLjk5IDkuMDE4IDJjLjc1NC4wMTUgMS4yMDQuNjYzIDEuMzYuOTgzLjI4NC41ODUuMjkyIDEuNTQ5LjA5NyAyLjE2Ny0uMTc3LjU2LS41ODYgMS4yOTYtLjU4NiAxLjI5NmgzLjA2NmMuMzI0IDAgLjYyNS4xNjQuODI2LjQ0OS4yMDQuMjkuMjcuNjY4LjE3OCAxLjAxMWwtMS4zODcgNS4xODNjLS4xMjYuNDk5LS41NDQuODQ3LTEuMDE2Ljg0N0g1LjUzVjYuNjkzYzEuMzg1LS4zMDkgMi4yMzYtMi42MzIgMi4zOTItMy43eiIvPgogICAgPC9nPgo8L3N2Zz4K" class="icon"><span data-v-f6632f66="" class="count">2</span></div><div data-v-f6632f66="" class="entry-meta"><img data-v-f6632f66="" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik0yIDR2OC4wMzhoNC40NDRMMTEuMTExIDE1di0yLjk2MkgxNFY0eiIvPgogICAgPC9nPgo8L3N2Zz4K" class="icon"><span data-v-f6632f66="" class="count">1</span></div></div></a><a data-v-f6632f66="" href="/entry/5bce81f9518825777f0938bf" target="_blank" rel="" st:name="link" class="item" data-v-70a2cd6d=""><div data-v-f6632f66="" class="entry-title">Javaï¼šå…³äºStaticé™æ€å…³é”®å­—çš„é‚£äº›å°äº‹</div><div data-v-f6632f66="" class="entry-meta-box"><div data-v-f6632f66="" class="entry-meta"><img data-v-f6632f66="" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik00LjIzNCA2LjY5M3Y3LjI0M0gyLjg4MWMtLjQ4NiAwLS44ODEtLjQ5Mi0uODgxLTEuMDk1VjcuODc1YzAtLjYzLjQxMi0xLjE4Mi44OC0xLjE4MmgxLjM1NHptMy42ODgtMy43QzguMDEgMi40MDQgOC40OSAxLjk5IDkuMDE4IDJjLjc1NC4wMTUgMS4yMDQuNjYzIDEuMzYuOTgzLjI4NC41ODUuMjkyIDEuNTQ5LjA5NyAyLjE2Ny0uMTc3LjU2LS41ODYgMS4yOTYtLjU4NiAxLjI5NmgzLjA2NmMuMzI0IDAgLjYyNS4xNjQuODI2LjQ0OS4yMDQuMjkuMjcuNjY4LjE3OCAxLjAxMWwtMS4zODcgNS4xODNjLS4xMjYuNDk5LS41NDQuODQ3LTEuMDE2Ljg0N0g1LjUzVjYuNjkzYzEuMzg1LS4zMDkgMi4yMzYtMi42MzIgMi4zOTItMy43eiIvPgogICAgPC9nPgo8L3N2Zz4K" class="icon"><span data-v-f6632f66="" class="count">1</span></div><div data-v-f6632f66="" class="entry-meta"><img data-v-f6632f66="" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik0yIDR2OC4wMzhoNC40NDRMMTEuMTExIDE1di0yLjk2MkgxNFY0eiIvPgogICAgPC9nPgo8L3N2Zz4K" class="icon"><span data-v-f6632f66="" class="count">0</span></div></div></a><a data-v-f6632f66="" href="/entry/5bce80286fb9a05d32518bd9" target="_blank" rel="" st:name="link" class="item" data-v-70a2cd6d=""><div data-v-f6632f66="" class="entry-title">JVMï¼šé‚£äº›åƒåœ¾æ”¶é›†å™¨ä½ äº†è§£å—</div><div data-v-f6632f66="" class="entry-meta-box"><div data-v-f6632f66="" class="entry-meta"><img data-v-f6632f66="" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik00LjIzNCA2LjY5M3Y3LjI0M0gyLjg4MWMtLjQ4NiAwLS44ODEtLjQ5Mi0uODgxLTEuMDk1VjcuODc1YzAtLjYzLjQxMi0xLjE4Mi44OC0xLjE4MmgxLjM1NHptMy42ODgtMy43QzguMDEgMi40MDQgOC40OSAxLjk5IDkuMDE4IDJjLjc1NC4wMTUgMS4yMDQuNjYzIDEuMzYuOTgzLjI4NC41ODUuMjkyIDEuNTQ5LjA5NyAyLjE2Ny0uMTc3LjU2LS41ODYgMS4yOTYtLjU4NiAxLjI5NmgzLjA2NmMuMzI0IDAgLjYyNS4xNjQuODI2LjQ0OS4yMDQuMjkuMjcuNjY4LjE3OCAxLjAxMWwtMS4zODcgNS4xODNjLS4xMjYuNDk5LS41NDQuODQ3LTEuMDE2Ljg0N0g1LjUzVjYuNjkzYzEuMzg1LS4zMDkgMi4yMzYtMi42MzIgMi4zOTItMy43eiIvPgogICAgPC9nPgo8L3N2Zz4K" class="icon"><span data-v-f6632f66="" class="count">2</span></div><div data-v-f6632f66="" class="entry-meta"><img data-v-f6632f66="" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNCMkJBQzIiIGQ9Ik0yIDR2OC4wMzhoNC40NDRMMTEuMTExIDE1di0yLjk2MkgxNFY0eiIvPgogICAgPC9nPgo8L3N2Zz4K" class="icon"><span data-v-f6632f66="" class="count">0</span></div></div></a></div></div></div></div></div><div data-v-2febaf4d="" data-v-41d33d72="" class="article-suspended-panel article-suspended-panel" data-v-3f216172=""><div data-v-2febaf4d="" badge="26" class="like-btn panel-btn like-adjust with-badge"></div><div data-v-2febaf4d="" badge="0" class="comment-btn panel-btn comment-adjust"></div><div data-v-2febaf4d="" class="collect-btn panel-btn"><!----></div><div data-v-2febaf4d="" class="share-title">åˆ†äº«</div><div data-v-2febaf4d="" class="weibo-btn share-btn panel-btn"></div><div data-v-2febaf4d="" class="qq-btn share-btn panel-btn"></div><div data-v-2febaf4d="" class="wechat-btn share-btn panel-btn"><img data-v-2febaf4d="" src="" class="wechat-qr-code-img shadow" style="display: none;"></div></div><div data-v-f0e3c22e="" data-v-41d33d72="" class="image-viewer-box" data-v-3f216172=""><!----></div><div data-v-00a4671b="" data-v-41d33d72="" st:block="mobileBottomBar" class="mobile-bottom-bar" data-v-3f216172=""><div data-v-00a4671b="" class="bar-container"><a data-v-00a4671b="" href="https://juejin.im/about" class="left"><img data-v-00a4671b="" src="https://b-gold-cdn.xitu.io/images/logo-bold.svg"><span data-v-00a4671b="">ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</span></a><a data-v-00a4671b="" st:name="openInAppBtn" class="button">æ‰“å¼€åº”ç”¨<div data-v-00a4671b="" class="pop-up" style="display: none;"><a data-v-00a4671b="" class="pop-up-content"></a></div></a></div></div></main></div><div data-v-19078e6d="" data-v-6ede48a3="" class="recommend-box"><div data-v-19078e6d="" class="extension"><div data-v-19078e6d="" data-growing-container="true" data-growing-title="æ˜é‡‘æ’ä»¶" class="link"><div data-v-19078e6d="" class="title">æ˜é‡‘æµè§ˆå™¨æ’ä»¶ - ä¸‹è½½æ’ä»¶ï¼Œé€ä½ <span data-v-19078e6d="" class="price">45å…ƒ</span>ä¹°å°å†Œ</div></div><div data-v-19078e6d="" class="ion-close"></div></div><!----></div></div>
      
      <script type="text/javascript" src="https://b-gold-cdn.xitu.io/v3/static/js/manifest.060adf3290877312ec3f.js"></script><script type="text/javascript" src="https://b-gold-cdn.xitu.io/v3/static/js/vendor.e6fd81aa1499049a5bee.js"></script><script type="text/javascript" src="https://b-gold-cdn.xitu.io/v3/static/js/app.a99a1e8180beec940a3f.js"></script>
    </body></html>